{"ast":null,"code":"import { useEffect } from 'react';\nimport createFocusTrap from 'focus-trap';\nimport noop from '@atlaskit/ds-lib/noop';\nexport var useFocusManager = function useFocusManager(_ref) {\n  var initialFocusRef = _ref.initialFocusRef,\n    popupRef = _ref.popupRef;\n  useEffect(function () {\n    if (!popupRef) {\n      return noop;\n    }\n    var trapConfig = {\n      clickOutsideDeactivates: true,\n      escapeDeactivates: true,\n      initialFocus: initialFocusRef || popupRef,\n      fallbackFocus: popupRef,\n      returnFocusOnDeactivate: true\n    };\n    var focusTrap = createFocusTrap(popupRef, trapConfig);\n    var frameId = null;\n\n    // wait for the popup to reposition itself before we focus\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      focusTrap.activate();\n    });\n    return function () {\n      if (frameId != null) {\n        cancelAnimationFrame(frameId);\n        frameId = null;\n      }\n      focusTrap.deactivate();\n    };\n  }, [popupRef, initialFocusRef]);\n};","map":{"version":3,"names":["useEffect","createFocusTrap","noop","useFocusManager","_ref","initialFocusRef","popupRef","trapConfig","clickOutsideDeactivates","escapeDeactivates","initialFocus","fallbackFocus","returnFocusOnDeactivate","focusTrap","frameId","requestAnimationFrame","activate","cancelAnimationFrame","deactivate"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/popup/dist/esm/use-focus-manager.js"],"sourcesContent":["import { useEffect } from 'react';\nimport createFocusTrap from 'focus-trap';\nimport noop from '@atlaskit/ds-lib/noop';\nexport var useFocusManager = function useFocusManager(_ref) {\n  var initialFocusRef = _ref.initialFocusRef,\n    popupRef = _ref.popupRef;\n  useEffect(function () {\n    if (!popupRef) {\n      return noop;\n    }\n    var trapConfig = {\n      clickOutsideDeactivates: true,\n      escapeDeactivates: true,\n      initialFocus: initialFocusRef || popupRef,\n      fallbackFocus: popupRef,\n      returnFocusOnDeactivate: true\n    };\n    var focusTrap = createFocusTrap(popupRef, trapConfig);\n    var frameId = null;\n\n    // wait for the popup to reposition itself before we focus\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      focusTrap.activate();\n    });\n    return function () {\n      if (frameId != null) {\n        cancelAnimationFrame(frameId);\n        frameId = null;\n      }\n      focusTrap.deactivate();\n    };\n  }, [popupRef, initialFocusRef]);\n};"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,eAAe,MAAM,YAAY;AACxC,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAO,IAAIC,eAAe,GAAG,SAASA,eAAeA,CAACC,IAAI,EAAE;EAC1D,IAAIC,eAAe,GAAGD,IAAI,CAACC,eAAe;IACxCC,QAAQ,GAAGF,IAAI,CAACE,QAAQ;EAC1BN,SAAS,CAAC,YAAY;IACpB,IAAI,CAACM,QAAQ,EAAE;MACb,OAAOJ,IAAI;IACb;IACA,IAAIK,UAAU,GAAG;MACfC,uBAAuB,EAAE,IAAI;MAC7BC,iBAAiB,EAAE,IAAI;MACvBC,YAAY,EAAEL,eAAe,IAAIC,QAAQ;MACzCK,aAAa,EAAEL,QAAQ;MACvBM,uBAAuB,EAAE;IAC3B,CAAC;IACD,IAAIC,SAAS,GAAGZ,eAAe,CAACK,QAAQ,EAAEC,UAAU,CAAC;IACrD,IAAIO,OAAO,GAAG,IAAI;;IAElB;IACAA,OAAO,GAAGC,qBAAqB,CAAC,YAAY;MAC1CD,OAAO,GAAG,IAAI;MACdD,SAAS,CAACG,QAAQ,CAAC,CAAC;IACtB,CAAC,CAAC;IACF,OAAO,YAAY;MACjB,IAAIF,OAAO,IAAI,IAAI,EAAE;QACnBG,oBAAoB,CAACH,OAAO,CAAC;QAC7BA,OAAO,GAAG,IAAI;MAChB;MACAD,SAAS,CAACK,UAAU,CAAC,CAAC;IACxB,CAAC;EACH,CAAC,EAAE,CAACZ,QAAQ,EAAED,eAAe,CAAC,CAAC;AACjC,CAAC"},"metadata":{},"sourceType":"module"}