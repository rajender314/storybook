{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nimport { useMemo } from 'react'; // eslint-disable-next-line no-restricted-imports\n\nimport { parseISO } from 'date-fns';\nimport { daysPerWeek } from '../constants';\nimport dateToString from '../utils/date-to-string';\nimport getBaseCalendar from '../utils/get-base-calendar';\nfunction useGetCalendarWithSixthWeek(calendar, _ref) {\n  var month = _ref.month,\n    year = _ref.year,\n    weekStartDay = _ref.weekStartDay;\n  var shouldDisplaySixthWeek = calendar.length % 6;\n  var calendarLastValue = calendar[calendar.length - 1];\n  return useMemo(function () {\n    // Some months jump between 5 and 6 weeks to display. In some cases 4 (Feb\n    // with the 1st on a Monday etc). This ensures the UI doesn't jump around by\n    // catering to always showing 6 weeks.\n    if (shouldDisplaySixthWeek) {\n      var lastDayIsSibling = calendarLastValue.siblingMonth;\n      var sliceStart = lastDayIsSibling ? daysPerWeek : 0;\n      return getBaseCalendar(year, month, {\n        weekStartDay: weekStartDay\n      }).slice(sliceStart, sliceStart + daysPerWeek).map(function (date) {\n        return _objectSpread(_objectSpread({}, date), {}, {\n          siblingMonth: true\n        });\n      });\n    }\n  }, [calendarLastValue, month, shouldDisplaySixthWeek, weekStartDay, year]);\n} // eslint-disable-next-line @repo/internal/react/require-jsdoc\n\nexport default function useGetWeeks(_ref2) {\n  var day = _ref2.day,\n    month = _ref2.month,\n    year = _ref2.year,\n    today = _ref2.today,\n    disabled = _ref2.disabled,\n    disabledDateFilter = _ref2.disabledDateFilter,\n    minDateString = _ref2.minDate,\n    maxDateString = _ref2.maxDate,\n    selected = _ref2.selected,\n    previouslySelected = _ref2.previouslySelected,\n    weekStartDay = _ref2.weekStartDay;\n  var calendar = useMemo(function () {\n    return getBaseCalendar(year, month - 1, {\n      weekStartDay: weekStartDay\n    });\n  }, [month, weekStartDay, year]);\n  var calendarWithSixthWeek = useGetCalendarWithSixthWeek(calendar, {\n    month: month,\n    year: year,\n    weekStartDay: weekStartDay\n  });\n  if (calendarWithSixthWeek) {\n    calendar.push.apply(calendar, _toConsumableArray(calendarWithSixthWeek));\n  }\n  var minDate = minDateString ? parseISO(minDateString) : undefined;\n  var maxDate = maxDateString ? parseISO(maxDateString) : undefined;\n  var needJsDate = minDateString || maxDateString;\n  return useMemo(function () {\n    var weeks = [];\n    calendar.forEach(function (date) {\n      var dateAsString = dateToString(date, {\n        fixMonth: true\n      });\n      var JSDate = needJsDate ? parseISO(dateAsString) : undefined;\n      var week;\n      if (date.weekDay === weekStartDay) {\n        week = {\n          id: dateAsString,\n          values: []\n        };\n        weeks.push(week);\n      } else {\n        week = weeks[weeks.length - 1];\n      } // Define a bunch of `const`s\n\n      var isDisabledByArray = disabled ? disabled.indexOf(dateAsString) > -1 : false;\n      var isDisabledByFilter = disabledDateFilter ? disabledDateFilter(dateAsString) : false;\n      var isDisabledByMin = minDate && JSDate ? JSDate < minDate : false;\n      var isDisabledByMax = maxDate && JSDate ? JSDate > maxDate : false;\n      var isDisabled = isDisabledByArray || isDisabledByFilter || isDisabledByMin || isDisabledByMax;\n      var isFocused = day === date.day && !date.siblingMonth;\n      var isPreviouslySelected = !isDisabled && previouslySelected.indexOf(dateAsString) > -1;\n      var isSelected = !isDisabled && selected.indexOf(dateAsString) > -1;\n      var isSiblingMonth = !!date.siblingMonth;\n      var isToday = today === dateAsString;\n      week.values.push({\n        id: dateAsString,\n        isDisabled: isDisabled,\n        isFocused: isFocused,\n        isToday: isToday,\n        month: date.month + 1,\n        isPreviouslySelected: isPreviouslySelected,\n        isSelected: isSelected,\n        isSiblingMonth: isSiblingMonth,\n        year: date.year,\n        day: date.day\n      });\n    });\n    return weeks;\n  }, [calendar, day, disabled, disabledDateFilter, minDate, maxDate, needJsDate, previouslySelected, selected, today, weekStartDay]);\n}","map":{"version":3,"names":["_toConsumableArray","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","useMemo","parseISO","daysPerWeek","dateToString","getBaseCalendar","useGetCalendarWithSixthWeek","calendar","_ref","month","year","weekStartDay","shouldDisplaySixthWeek","calendarLastValue","lastDayIsSibling","siblingMonth","sliceStart","slice","map","date","useGetWeeks","_ref2","day","today","disabled","disabledDateFilter","minDateString","minDate","maxDateString","maxDate","selected","previouslySelected","calendarWithSixthWeek","undefined","needJsDate","weeks","dateAsString","fixMonth","JSDate","week","weekDay","id","values","isDisabledByArray","indexOf","isDisabledByFilter","isDisabledByMin","isDisabledByMax","isDisabled","isFocused","isPreviouslySelected","isSelected","isSiblingMonth","isToday"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/calendar/dist/esm/internal/hooks/use-get-weeks.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useMemo } from 'react'; // eslint-disable-next-line no-restricted-imports\n\nimport { parseISO } from 'date-fns';\nimport { daysPerWeek } from '../constants';\nimport dateToString from '../utils/date-to-string';\nimport getBaseCalendar from '../utils/get-base-calendar';\n\nfunction useGetCalendarWithSixthWeek(calendar, _ref) {\n  var month = _ref.month,\n      year = _ref.year,\n      weekStartDay = _ref.weekStartDay;\n  var shouldDisplaySixthWeek = calendar.length % 6;\n  var calendarLastValue = calendar[calendar.length - 1];\n  return useMemo(function () {\n    // Some months jump between 5 and 6 weeks to display. In some cases 4 (Feb\n    // with the 1st on a Monday etc). This ensures the UI doesn't jump around by\n    // catering to always showing 6 weeks.\n    if (shouldDisplaySixthWeek) {\n      var lastDayIsSibling = calendarLastValue.siblingMonth;\n      var sliceStart = lastDayIsSibling ? daysPerWeek : 0;\n      return getBaseCalendar(year, month, {\n        weekStartDay: weekStartDay\n      }).slice(sliceStart, sliceStart + daysPerWeek).map(function (date) {\n        return _objectSpread(_objectSpread({}, date), {}, {\n          siblingMonth: true\n        });\n      });\n    }\n  }, [calendarLastValue, month, shouldDisplaySixthWeek, weekStartDay, year]);\n} // eslint-disable-next-line @repo/internal/react/require-jsdoc\n\n\nexport default function useGetWeeks(_ref2) {\n  var day = _ref2.day,\n      month = _ref2.month,\n      year = _ref2.year,\n      today = _ref2.today,\n      disabled = _ref2.disabled,\n      disabledDateFilter = _ref2.disabledDateFilter,\n      minDateString = _ref2.minDate,\n      maxDateString = _ref2.maxDate,\n      selected = _ref2.selected,\n      previouslySelected = _ref2.previouslySelected,\n      weekStartDay = _ref2.weekStartDay;\n  var calendar = useMemo(function () {\n    return getBaseCalendar(year, month - 1, {\n      weekStartDay: weekStartDay\n    });\n  }, [month, weekStartDay, year]);\n  var calendarWithSixthWeek = useGetCalendarWithSixthWeek(calendar, {\n    month: month,\n    year: year,\n    weekStartDay: weekStartDay\n  });\n\n  if (calendarWithSixthWeek) {\n    calendar.push.apply(calendar, _toConsumableArray(calendarWithSixthWeek));\n  }\n\n  var minDate = minDateString ? parseISO(minDateString) : undefined;\n  var maxDate = maxDateString ? parseISO(maxDateString) : undefined;\n  var needJsDate = minDateString || maxDateString;\n  return useMemo(function () {\n    var weeks = [];\n    calendar.forEach(function (date) {\n      var dateAsString = dateToString(date, {\n        fixMonth: true\n      });\n      var JSDate = needJsDate ? parseISO(dateAsString) : undefined;\n      var week;\n\n      if (date.weekDay === weekStartDay) {\n        week = {\n          id: dateAsString,\n          values: []\n        };\n        weeks.push(week);\n      } else {\n        week = weeks[weeks.length - 1];\n      } // Define a bunch of `const`s\n\n\n      var isDisabledByArray = disabled ? disabled.indexOf(dateAsString) > -1 : false;\n      var isDisabledByFilter = disabledDateFilter ? disabledDateFilter(dateAsString) : false;\n      var isDisabledByMin = minDate && JSDate ? JSDate < minDate : false;\n      var isDisabledByMax = maxDate && JSDate ? JSDate > maxDate : false;\n      var isDisabled = isDisabledByArray || isDisabledByFilter || isDisabledByMin || isDisabledByMax;\n      var isFocused = day === date.day && !date.siblingMonth;\n      var isPreviouslySelected = !isDisabled && previouslySelected.indexOf(dateAsString) > -1;\n      var isSelected = !isDisabled && selected.indexOf(dateAsString) > -1;\n      var isSiblingMonth = !!date.siblingMonth;\n      var isToday = today === dateAsString;\n      week.values.push({\n        id: dateAsString,\n        isDisabled: isDisabled,\n        isFocused: isFocused,\n        isToday: isToday,\n        month: date.month + 1,\n        isPreviouslySelected: isPreviouslySelected,\n        isSelected: isSelected,\n        isSiblingMonth: isSiblingMonth,\n        year: date.year,\n        day: date.day\n      });\n    });\n    return weeks;\n  }, [calendar, day, disabled, disabledDateFilter, minDate, maxDate, needJsDate, previouslySelected, selected, today, weekStartDay]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}