{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"shouldRenderToParent\", \"children\"];\nvar _css;\n/** @jsx jsx */\nimport { forwardRef, useMemo, useState } from 'react';\nimport { css, jsx } from '@emotion/react';\nimport { Popper } from '@atlaskit/popper';\nimport { N0, N50A, N60A } from '@atlaskit/theme/colors';\nimport { layers } from '@atlaskit/theme/constants';\nimport { CURRENT_SURFACE_CSS_VAR } from '@atlaskit/tokens';\nimport { RepositionOnUpdate } from './reposition-on-update';\nimport { useCloseManager } from './use-close-manager';\nimport { useFocusManager } from './use-focus-manager';\nvar popupStyles = css((_css = {\n  display: 'block',\n  boxSizing: 'border-box',\n  zIndex: layers.layer(),\n  flex: '1 1 auto',\n  backgroundColor: \"var(--ds-surface-overlay, \".concat(N0, \")\"),\n  borderRadius: \"var(--ds-border-radius, 3px)\",\n  boxShadow: \"var(--ds-shadow-overlay, \".concat(\"0 4px 8px -2px \".concat(N50A, \", 0 0 1px \").concat(N60A), \")\")\n}, _defineProperty(_css, CURRENT_SURFACE_CSS_VAR, \"var(--ds-surface-overlay, \".concat(N0, \")\")), _defineProperty(_css, ':focus', {\n  outline: 'none'\n}), _css));\nvar popupOverflowStyles = css({\n  overflow: 'auto'\n});\nvar DefaultPopupComponent = /*#__PURE__*/forwardRef(function (props, ref) {\n  var shouldRenderToParent = props.shouldRenderToParent,\n    children = props.children,\n    htmlAttributes = _objectWithoutProperties(props, _excluded);\n  return jsx(\"div\", _extends({\n    css: [popupStyles, !shouldRenderToParent && popupOverflowStyles]\n  }, htmlAttributes, {\n    ref: ref\n  }), children);\n});\nfunction PopperWrapper(_ref) {\n  var isOpen = _ref.isOpen,\n    id = _ref.id,\n    offset = _ref.offset,\n    testId = _ref.testId,\n    content = _ref.content,\n    fallbackPlacements = _ref.fallbackPlacements,\n    onClose = _ref.onClose,\n    boundary = _ref.boundary,\n    rootBoundary = _ref.rootBoundary,\n    shouldFlip = _ref.shouldFlip,\n    _ref$placement = _ref.placement,\n    placement = _ref$placement === void 0 ? 'auto' : _ref$placement,\n    _ref$popupComponent = _ref.popupComponent,\n    PopupContainer = _ref$popupComponent === void 0 ? DefaultPopupComponent : _ref$popupComponent,\n    _ref$autoFocus = _ref.autoFocus,\n    autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n    triggerRef = _ref.triggerRef,\n    shouldUseCaptureOnOutsideClick = _ref.shouldUseCaptureOnOutsideClick,\n    shouldRenderToParent = _ref.shouldRenderToParent;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    popupRef = _useState2[0],\n    setPopupRef = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    initialFocusRef = _useState4[0],\n    setInitialFocusRef = _useState4[1];\n  useFocusManager({\n    initialFocusRef: initialFocusRef,\n    popupRef: popupRef\n  });\n  useCloseManager({\n    isOpen: isOpen,\n    onClose: onClose,\n    popupRef: popupRef,\n    triggerRef: triggerRef,\n    shouldUseCaptureOnOutsideClick: shouldUseCaptureOnOutsideClick\n  });\n  var modifiers = useMemo(function () {\n    return [{\n      name: 'flip',\n      enabled: shouldFlip,\n      options: {\n        rootBoundary: rootBoundary,\n        boundary: boundary,\n        fallbackPlacements: fallbackPlacements\n      }\n    }];\n  }, [shouldFlip, rootBoundary, boundary, fallbackPlacements]);\n  return jsx(Popper, {\n    placement: placement,\n    offset: offset,\n    modifiers: modifiers\n  }, function (_ref2) {\n    var _ref3 = _ref2.ref,\n      style = _ref2.style,\n      placement = _ref2.placement,\n      update = _ref2.update;\n    return jsx(PopupContainer, {\n      id: id,\n      \"data-placement\": placement,\n      \"data-testid\": testId,\n      ref: function ref(node) {\n        if (node) {\n          if (typeof _ref3 === 'function') {\n            _ref3(node);\n          } else {\n            _ref3.current = node;\n          }\n          setPopupRef(node);\n        }\n      },\n      style: style\n      // using tabIndex={-1} would cause a bug where Safari focuses\n      // first on the browser address bar when using keyboard\n      ,\n\n      tabIndex: autoFocus ? 0 : undefined,\n      shouldRenderToParent: shouldRenderToParent\n    }, jsx(RepositionOnUpdate, {\n      update: update\n    }, content({\n      update: update,\n      isOpen: isOpen,\n      onClose: onClose,\n      setInitialFocusRef: setInitialFocusRef\n    })));\n  });\n}\n\n// eslint-disable-next-line @repo/internal/react/require-jsdoc\nexport default PopperWrapper;","map":{"version":3,"names":["_slicedToArray","_extends","_objectWithoutProperties","_defineProperty","_excluded","_css","forwardRef","useMemo","useState","css","jsx","Popper","N0","N50A","N60A","layers","CURRENT_SURFACE_CSS_VAR","RepositionOnUpdate","useCloseManager","useFocusManager","popupStyles","display","boxSizing","zIndex","layer","flex","backgroundColor","concat","borderRadius","boxShadow","outline","popupOverflowStyles","overflow","DefaultPopupComponent","props","ref","shouldRenderToParent","children","htmlAttributes","PopperWrapper","_ref","isOpen","id","offset","testId","content","fallbackPlacements","onClose","boundary","rootBoundary","shouldFlip","_ref$placement","placement","_ref$popupComponent","popupComponent","PopupContainer","_ref$autoFocus","autoFocus","triggerRef","shouldUseCaptureOnOutsideClick","_useState","_useState2","popupRef","setPopupRef","_useState3","_useState4","initialFocusRef","setInitialFocusRef","modifiers","name","enabled","options","_ref2","_ref3","style","update","node","current","tabIndex","undefined"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/popup/dist/esm/popper-wrapper.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"shouldRenderToParent\", \"children\"];\nvar _css;\n/** @jsx jsx */\nimport { forwardRef, useMemo, useState } from 'react';\nimport { css, jsx } from '@emotion/react';\nimport { Popper } from '@atlaskit/popper';\nimport { N0, N50A, N60A } from '@atlaskit/theme/colors';\nimport { layers } from '@atlaskit/theme/constants';\nimport { CURRENT_SURFACE_CSS_VAR } from '@atlaskit/tokens';\nimport { RepositionOnUpdate } from './reposition-on-update';\nimport { useCloseManager } from './use-close-manager';\nimport { useFocusManager } from './use-focus-manager';\nvar popupStyles = css((_css = {\n  display: 'block',\n  boxSizing: 'border-box',\n  zIndex: layers.layer(),\n  flex: '1 1 auto',\n  backgroundColor: \"var(--ds-surface-overlay, \".concat(N0, \")\"),\n  borderRadius: \"var(--ds-border-radius, 3px)\",\n  boxShadow: \"var(--ds-shadow-overlay, \".concat(\"0 4px 8px -2px \".concat(N50A, \", 0 0 1px \").concat(N60A), \")\")\n}, _defineProperty(_css, CURRENT_SURFACE_CSS_VAR, \"var(--ds-surface-overlay, \".concat(N0, \")\")), _defineProperty(_css, ':focus', {\n  outline: 'none'\n}), _css));\nvar popupOverflowStyles = css({\n  overflow: 'auto'\n});\nvar DefaultPopupComponent = /*#__PURE__*/forwardRef(function (props, ref) {\n  var shouldRenderToParent = props.shouldRenderToParent,\n    children = props.children,\n    htmlAttributes = _objectWithoutProperties(props, _excluded);\n  return jsx(\"div\", _extends({\n    css: [popupStyles, !shouldRenderToParent && popupOverflowStyles]\n  }, htmlAttributes, {\n    ref: ref\n  }), children);\n});\nfunction PopperWrapper(_ref) {\n  var isOpen = _ref.isOpen,\n    id = _ref.id,\n    offset = _ref.offset,\n    testId = _ref.testId,\n    content = _ref.content,\n    fallbackPlacements = _ref.fallbackPlacements,\n    onClose = _ref.onClose,\n    boundary = _ref.boundary,\n    rootBoundary = _ref.rootBoundary,\n    shouldFlip = _ref.shouldFlip,\n    _ref$placement = _ref.placement,\n    placement = _ref$placement === void 0 ? 'auto' : _ref$placement,\n    _ref$popupComponent = _ref.popupComponent,\n    PopupContainer = _ref$popupComponent === void 0 ? DefaultPopupComponent : _ref$popupComponent,\n    _ref$autoFocus = _ref.autoFocus,\n    autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n    triggerRef = _ref.triggerRef,\n    shouldUseCaptureOnOutsideClick = _ref.shouldUseCaptureOnOutsideClick,\n    shouldRenderToParent = _ref.shouldRenderToParent;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    popupRef = _useState2[0],\n    setPopupRef = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    initialFocusRef = _useState4[0],\n    setInitialFocusRef = _useState4[1];\n  useFocusManager({\n    initialFocusRef: initialFocusRef,\n    popupRef: popupRef\n  });\n  useCloseManager({\n    isOpen: isOpen,\n    onClose: onClose,\n    popupRef: popupRef,\n    triggerRef: triggerRef,\n    shouldUseCaptureOnOutsideClick: shouldUseCaptureOnOutsideClick\n  });\n  var modifiers = useMemo(function () {\n    return [{\n      name: 'flip',\n      enabled: shouldFlip,\n      options: {\n        rootBoundary: rootBoundary,\n        boundary: boundary,\n        fallbackPlacements: fallbackPlacements\n      }\n    }];\n  }, [shouldFlip, rootBoundary, boundary, fallbackPlacements]);\n  return jsx(Popper, {\n    placement: placement,\n    offset: offset,\n    modifiers: modifiers\n  }, function (_ref2) {\n    var _ref3 = _ref2.ref,\n      style = _ref2.style,\n      placement = _ref2.placement,\n      update = _ref2.update;\n    return jsx(PopupContainer, {\n      id: id,\n      \"data-placement\": placement,\n      \"data-testid\": testId,\n      ref: function ref(node) {\n        if (node) {\n          if (typeof _ref3 === 'function') {\n            _ref3(node);\n          } else {\n            _ref3.current = node;\n          }\n          setPopupRef(node);\n        }\n      },\n      style: style\n      // using tabIndex={-1} would cause a bug where Safari focuses\n      // first on the browser address bar when using keyboard\n      ,\n      tabIndex: autoFocus ? 0 : undefined,\n      shouldRenderToParent: shouldRenderToParent\n    }, jsx(RepositionOnUpdate, {\n      update: update\n    }, content({\n      update: update,\n      isOpen: isOpen,\n      onClose: onClose,\n      setInitialFocusRef: setInitialFocusRef\n    })));\n  });\n}\n\n// eslint-disable-next-line @repo/internal/react/require-jsdoc\nexport default PopperWrapper;"],"mappings":"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"},"metadata":{},"sourceType":"module"}