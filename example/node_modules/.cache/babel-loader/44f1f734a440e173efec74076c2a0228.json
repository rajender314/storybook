{"ast":null,"code":"import React, { createContext, useCallback, useEffect, useRef } from 'react';\nimport { bind } from 'bind-event-listener';\nimport __noop from '@atlaskit/ds-lib/noop';\nimport { UNSAFE_useLayering } from '@atlaskit/layering';\nimport handleFocus from '../utils/handle-focus';\n\n/**\n *\n *\n * Context provider which maintains the list of focusable elements and a method to\n * register new menu items.\n * This list drives the keyboard navgation of the menu.\n *\n */\nexport var FocusManagerContext = /*#__PURE__*/createContext({\n  menuItemRefs: [],\n  registerRef: __noop\n});\n\n/**\n * Focus manager logic\n */\nvar FocusManager = function FocusManager(_ref) {\n  var children = _ref.children;\n  var menuItemRefs = useRef([]);\n  var registerRef = useCallback(function (ref) {\n    if (ref && !menuItemRefs.current.includes(ref)) {\n      menuItemRefs.current.push(ref);\n    }\n  }, []);\n  var _UNSAFE_useLayering = UNSAFE_useLayering(),\n    isLayerDisabled = _UNSAFE_useLayering.isLayerDisabled;\n  // Intentionally rebinding on each render\n  useEffect(function () {\n    return bind(window, {\n      type: 'keydown',\n      listener: handleFocus(menuItemRefs.current, isLayerDisabled)\n    });\n  });\n  var contextValue = {\n    menuItemRefs: menuItemRefs.current,\n    registerRef: registerRef\n  };\n  return /*#__PURE__*/React.createElement(FocusManagerContext.Provider, {\n    value: contextValue\n  }, children);\n};\nexport default FocusManager;","map":{"version":3,"names":["React","createContext","useCallback","useEffect","useRef","bind","__noop","UNSAFE_useLayering","handleFocus","FocusManagerContext","menuItemRefs","registerRef","FocusManager","_ref","children","ref","current","includes","push","_UNSAFE_useLayering","isLayerDisabled","window","type","listener","contextValue","createElement","Provider","value"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/dropdown-menu/dist/esm/internal/components/focus-manager.js"],"sourcesContent":["import React, { createContext, useCallback, useEffect, useRef } from 'react';\nimport { bind } from 'bind-event-listener';\nimport __noop from '@atlaskit/ds-lib/noop';\nimport { UNSAFE_useLayering } from '@atlaskit/layering';\nimport handleFocus from '../utils/handle-focus';\n\n/**\n *\n *\n * Context provider which maintains the list of focusable elements and a method to\n * register new menu items.\n * This list drives the keyboard navgation of the menu.\n *\n */\nexport var FocusManagerContext = /*#__PURE__*/createContext({\n  menuItemRefs: [],\n  registerRef: __noop\n});\n\n/**\n * Focus manager logic\n */\nvar FocusManager = function FocusManager(_ref) {\n  var children = _ref.children;\n  var menuItemRefs = useRef([]);\n  var registerRef = useCallback(function (ref) {\n    if (ref && !menuItemRefs.current.includes(ref)) {\n      menuItemRefs.current.push(ref);\n    }\n  }, []);\n  var _UNSAFE_useLayering = UNSAFE_useLayering(),\n    isLayerDisabled = _UNSAFE_useLayering.isLayerDisabled;\n  // Intentionally rebinding on each render\n  useEffect(function () {\n    return bind(window, {\n      type: 'keydown',\n      listener: handleFocus(menuItemRefs.current, isLayerDisabled)\n    });\n  });\n  var contextValue = {\n    menuItemRefs: menuItemRefs.current,\n    registerRef: registerRef\n  };\n  return /*#__PURE__*/React.createElement(FocusManagerContext.Provider, {\n    value: contextValue\n  }, children);\n};\nexport default FocusManager;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC5E,SAASC,IAAI,QAAQ,qBAAqB;AAC1C,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,SAASC,kBAAkB,QAAQ,oBAAoB;AACvD,OAAOC,WAAW,MAAM,uBAAuB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIC,mBAAmB,GAAG,aAAaR,aAAa,CAAC;EAC1DS,YAAY,EAAE,EAAE;EAChBC,WAAW,EAAEL;AACf,CAAC,CAAC;;AAEF;AACA;AACA;AACA,IAAIM,YAAY,GAAG,SAASA,YAAYA,CAACC,IAAI,EAAE;EAC7C,IAAIC,QAAQ,GAAGD,IAAI,CAACC,QAAQ;EAC5B,IAAIJ,YAAY,GAAGN,MAAM,CAAC,EAAE,CAAC;EAC7B,IAAIO,WAAW,GAAGT,WAAW,CAAC,UAAUa,GAAG,EAAE;IAC3C,IAAIA,GAAG,IAAI,CAACL,YAAY,CAACM,OAAO,CAACC,QAAQ,CAACF,GAAG,CAAC,EAAE;MAC9CL,YAAY,CAACM,OAAO,CAACE,IAAI,CAACH,GAAG,CAAC;IAChC;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAII,mBAAmB,GAAGZ,kBAAkB,CAAC,CAAC;IAC5Ca,eAAe,GAAGD,mBAAmB,CAACC,eAAe;EACvD;EACAjB,SAAS,CAAC,YAAY;IACpB,OAAOE,IAAI,CAACgB,MAAM,EAAE;MAClBC,IAAI,EAAE,SAAS;MACfC,QAAQ,EAAEf,WAAW,CAACE,YAAY,CAACM,OAAO,EAAEI,eAAe;IAC7D,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,IAAII,YAAY,GAAG;IACjBd,YAAY,EAAEA,YAAY,CAACM,OAAO;IAClCL,WAAW,EAAEA;EACf,CAAC;EACD,OAAO,aAAaX,KAAK,CAACyB,aAAa,CAAChB,mBAAmB,CAACiB,QAAQ,EAAE;IACpEC,KAAK,EAAEH;EACT,CAAC,EAAEV,QAAQ,CAAC;AACd,CAAC;AACD,eAAeF,YAAY"},"metadata":{},"sourceType":"module"}