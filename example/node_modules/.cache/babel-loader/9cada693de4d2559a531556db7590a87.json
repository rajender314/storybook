{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n/** @jsx jsx */\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { jsx } from '@emotion/react';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafEventHandler } from '@atlaskit/analytics-next';\nimport noop from '@atlaskit/ds-lib/noop';\nimport { Box, Inline } from '@atlaskit/primitives';\nimport { useGlobalTheme } from '@atlaskit/theme/components';\nimport { getBgColor } from './appearances';\nimport { progressIndicatorGapMap, sizes, varDotsMargin, varDotsSize } from './constants';\nimport { ButtonIndicator, PresentationalIndicator } from './indicator';\nvar packageName = \"@atlaskit/progress-indicator\";\nvar packageVersion = \"9.5.18\";\n\n/**\n * __ProgressDots__\n *\n * A progress indicator shows the user where they are along the steps of a journey.\n */\nvar ProgressDots = function ProgressDots(_ref) {\n  var _ref2;\n  var _ref$appearance = _ref.appearance,\n    appearance = _ref$appearance === void 0 ? 'default' : _ref$appearance,\n    _ref$ariaControls = _ref.ariaControls,\n    ariaControls = _ref$ariaControls === void 0 ? 'panel' : _ref$ariaControls,\n    _ref$ariaLabel = _ref.ariaLabel,\n    ariaLabel = _ref$ariaLabel === void 0 ? 'tab' : _ref$ariaLabel,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 'default' : _ref$size,\n    _ref$spacing = _ref.spacing,\n    gutter = _ref$spacing === void 0 ? 'comfortable' : _ref$spacing,\n    selectedIndex = _ref.selectedIndex,\n    testId = _ref.testId,\n    values = _ref.values,\n    onSelect = _ref.onSelect;\n  var tablistRef = useRef(null);\n  var onSelectWithAnalytics = usePlatformLeafEventHandler({\n    fn: onSelect || noop,\n    action: 'selected',\n    componentName: 'progressIndicator',\n    packageName: packageName,\n    packageVersion: packageVersion\n  });\n  var _progressIndicatorGap = _slicedToArray(progressIndicatorGapMap[gutter][size], 2),\n    inlineGapValue = _progressIndicatorGap[0],\n    rawGapValue = _progressIndicatorGap[1];\n  var handleKeyDown = useCallback(function (event) {\n    var indicators = Array.from(tablistRef.current.children);\n\n    // bail if the target isn't an indicator\n    if (!indicators.includes(event.target)) {\n      return;\n    }\n\n    // bail if not valid arrow key\n    var isLeft = event.key === 'ArrowLeft';\n    var isRight = event.key === 'ArrowRight';\n    if (!isLeft && !isRight) {\n      return;\n    }\n\n    // bail if at either end of the values\n    var isAlpha = isLeft && selectedIndex === 0;\n    var isOmega = isRight && selectedIndex === values.length - 1;\n    if (isAlpha || isOmega) {\n      return;\n    }\n    var index = isLeft ? selectedIndex - 1 : selectedIndex + 1;\n\n    // call the consumer's select method and focus the applicable indicator\n    if (onSelect) {\n      onSelectWithAnalytics({\n        event: event,\n        index: index\n      });\n    }\n    if (typeof indicators[index].focus === 'function') {\n      indicators[index].focus();\n    }\n  }, [onSelectWithAnalytics, selectedIndex, values, onSelect]);\n  useEffect(function () {\n    if (!onSelect) {\n      return noop;\n    }\n    return bind(document, {\n      type: 'keydown',\n      listener: handleKeyDown,\n      options: {\n        capture: false\n      }\n    });\n  }, [onSelect, handleKeyDown]);\n  var theme = useGlobalTheme();\n  return jsx(Box, {\n    style: (_ref2 = {}, _defineProperty(_ref2, varDotsSize, \"\".concat(sizes[size], \"px\")), _defineProperty(_ref2, varDotsMargin, rawGapValue), _ref2),\n    role: onSelect && 'tablist'\n  }, jsx(Inline, {\n    testId: testId,\n    ref: function ref(r) {\n      tablistRef.current = r;\n    },\n    alignInline: \"center\",\n    space: inlineGapValue\n  }, values.map(function (_, index) {\n    var isSelected = selectedIndex === index;\n    var tabId = \"\".concat(ariaLabel).concat(index);\n    var panelId = \"\".concat(ariaControls).concat(index);\n    var backgroundColor = getBgColor(appearance, isSelected)({\n      theme: theme\n    });\n    return onSelect ? jsx(ButtonIndicator, {\n      key: index,\n      style: {\n        backgroundColor: backgroundColor\n      },\n      \"aria-controls\": panelId,\n      \"aria-label\": tabId,\n      \"aria-selected\": isSelected,\n      id: tabId,\n      onClick: function onClick(event) {\n        return onSelectWithAnalytics({\n          event: event,\n          index: index\n        });\n      },\n      tabIndex: isSelected ? 0 : -1,\n      \"data-testid\": testId && \"\".concat(testId, \"-ind-\").concat(index)\n    }) : jsx(PresentationalIndicator, {\n      testId: testId && \"\".concat(testId, \"-ind-\").concat(index),\n      key: index,\n      style: {\n        backgroundColor: backgroundColor\n      }\n    });\n  })));\n};\nexport default ProgressDots;","map":{"version":3,"names":["_defineProperty","_slicedToArray","React","useCallback","useEffect","useRef","jsx","bind","usePlatformLeafEventHandler","noop","Box","Inline","useGlobalTheme","getBgColor","progressIndicatorGapMap","sizes","varDotsMargin","varDotsSize","ButtonIndicator","PresentationalIndicator","packageName","packageVersion","ProgressDots","_ref","_ref2","_ref$appearance","appearance","_ref$ariaControls","ariaControls","_ref$ariaLabel","ariaLabel","_ref$size","size","_ref$spacing","spacing","gutter","selectedIndex","testId","values","onSelect","tablistRef","onSelectWithAnalytics","fn","action","componentName","_progressIndicatorGap","inlineGapValue","rawGapValue","handleKeyDown","event","indicators","Array","from","current","children","includes","target","isLeft","key","isRight","isAlpha","isOmega","length","index","focus","document","type","listener","options","capture","theme","style","concat","role","ref","r","alignInline","space","map","_","isSelected","tabId","panelId","backgroundColor","id","onClick","tabIndex"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/progress-indicator/dist/esm/components/progress-dots.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n/** @jsx jsx */\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { jsx } from '@emotion/react';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafEventHandler } from '@atlaskit/analytics-next';\nimport noop from '@atlaskit/ds-lib/noop';\nimport { Box, Inline } from '@atlaskit/primitives';\nimport { useGlobalTheme } from '@atlaskit/theme/components';\nimport { getBgColor } from './appearances';\nimport { progressIndicatorGapMap, sizes, varDotsMargin, varDotsSize } from './constants';\nimport { ButtonIndicator, PresentationalIndicator } from './indicator';\nvar packageName = \"@atlaskit/progress-indicator\";\nvar packageVersion = \"9.5.18\";\n\n/**\n * __ProgressDots__\n *\n * A progress indicator shows the user where they are along the steps of a journey.\n */\nvar ProgressDots = function ProgressDots(_ref) {\n  var _ref2;\n  var _ref$appearance = _ref.appearance,\n    appearance = _ref$appearance === void 0 ? 'default' : _ref$appearance,\n    _ref$ariaControls = _ref.ariaControls,\n    ariaControls = _ref$ariaControls === void 0 ? 'panel' : _ref$ariaControls,\n    _ref$ariaLabel = _ref.ariaLabel,\n    ariaLabel = _ref$ariaLabel === void 0 ? 'tab' : _ref$ariaLabel,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 'default' : _ref$size,\n    _ref$spacing = _ref.spacing,\n    gutter = _ref$spacing === void 0 ? 'comfortable' : _ref$spacing,\n    selectedIndex = _ref.selectedIndex,\n    testId = _ref.testId,\n    values = _ref.values,\n    onSelect = _ref.onSelect;\n  var tablistRef = useRef(null);\n  var onSelectWithAnalytics = usePlatformLeafEventHandler({\n    fn: onSelect || noop,\n    action: 'selected',\n    componentName: 'progressIndicator',\n    packageName: packageName,\n    packageVersion: packageVersion\n  });\n  var _progressIndicatorGap = _slicedToArray(progressIndicatorGapMap[gutter][size], 2),\n    inlineGapValue = _progressIndicatorGap[0],\n    rawGapValue = _progressIndicatorGap[1];\n  var handleKeyDown = useCallback(function (event) {\n    var indicators = Array.from(tablistRef.current.children);\n\n    // bail if the target isn't an indicator\n    if (!indicators.includes(event.target)) {\n      return;\n    }\n\n    // bail if not valid arrow key\n    var isLeft = event.key === 'ArrowLeft';\n    var isRight = event.key === 'ArrowRight';\n    if (!isLeft && !isRight) {\n      return;\n    }\n\n    // bail if at either end of the values\n    var isAlpha = isLeft && selectedIndex === 0;\n    var isOmega = isRight && selectedIndex === values.length - 1;\n    if (isAlpha || isOmega) {\n      return;\n    }\n    var index = isLeft ? selectedIndex - 1 : selectedIndex + 1;\n\n    // call the consumer's select method and focus the applicable indicator\n    if (onSelect) {\n      onSelectWithAnalytics({\n        event: event,\n        index: index\n      });\n    }\n    if (typeof indicators[index].focus === 'function') {\n      indicators[index].focus();\n    }\n  }, [onSelectWithAnalytics, selectedIndex, values, onSelect]);\n  useEffect(function () {\n    if (!onSelect) {\n      return noop;\n    }\n    return bind(document, {\n      type: 'keydown',\n      listener: handleKeyDown,\n      options: {\n        capture: false\n      }\n    });\n  }, [onSelect, handleKeyDown]);\n  var theme = useGlobalTheme();\n  return jsx(Box, {\n    style: (_ref2 = {}, _defineProperty(_ref2, varDotsSize, \"\".concat(sizes[size], \"px\")), _defineProperty(_ref2, varDotsMargin, rawGapValue), _ref2),\n    role: onSelect && 'tablist'\n  }, jsx(Inline, {\n    testId: testId,\n    ref: function ref(r) {\n      tablistRef.current = r;\n    },\n    alignInline: \"center\",\n    space: inlineGapValue\n  }, values.map(function (_, index) {\n    var isSelected = selectedIndex === index;\n    var tabId = \"\".concat(ariaLabel).concat(index);\n    var panelId = \"\".concat(ariaControls).concat(index);\n    var backgroundColor = getBgColor(appearance, isSelected)({\n      theme: theme\n    });\n    return onSelect ? jsx(ButtonIndicator, {\n      key: index,\n      style: {\n        backgroundColor: backgroundColor\n      },\n      \"aria-controls\": panelId,\n      \"aria-label\": tabId,\n      \"aria-selected\": isSelected,\n      id: tabId,\n      onClick: function onClick(event) {\n        return onSelectWithAnalytics({\n          event: event,\n          index: index\n        });\n      },\n      tabIndex: isSelected ? 0 : -1,\n      \"data-testid\": testId && \"\".concat(testId, \"-ind-\").concat(index)\n    }) : jsx(PresentationalIndicator, {\n      testId: testId && \"\".concat(testId, \"-ind-\").concat(index),\n      key: index,\n      style: {\n        backgroundColor: backgroundColor\n      }\n    });\n  })));\n};\nexport default ProgressDots;"],"mappings":"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"},"metadata":{},"sourceType":"module"}