{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { RadioGroupContext } from '../../radio/dropdown-item-radio-group';\nimport { SelectionStoreContext } from '../context/selection-store';\nimport resetOptionsInGroup from '../utils/reset-options-in-group';\nfunction useRadioState(_ref) {\n  var id = _ref.id,\n    isSelected = _ref.isSelected,\n    defaultSelected = _ref.defaultSelected;\n  var _useContext = useContext(SelectionStoreContext),\n    setGroupState = _useContext.setGroupState,\n    getGroupState = _useContext.getGroupState;\n  var _useContext2 = useContext(RadioGroupContext),\n    group = _useContext2.id,\n    radioGroupState = _useContext2.radioGroupState,\n    selectRadioItem = _useContext2.selectRadioItem;\n  var persistedIsSelected = radioGroupState[id];\n  var _useState = useState(function () {\n      return persistedIsSelected !== undefined ? persistedIsSelected : defaultSelected || false;\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    localIsSelected = _useState2[0],\n    setLocalIsSelected = _useState2[1];\n  var setLocalState = useCallback(function (newValue) {\n    if (!persistedIsSelected) {\n      var nextValue = newValue(persistedIsSelected);\n      selectRadioItem(id, nextValue);\n      setLocalIsSelected(nextValue);\n    }\n  }, [persistedIsSelected, id, selectRadioItem]);\n\n  /**\n   * - radio state changes any time a radio child is changed\n   * - when it changes we want all radio buttons to update their local state\n   * - it takes the value from radio group state and applies it locally if it exists which it will only exist, if it is selected\n   */\n  useEffect(function () {\n    setLocalIsSelected(function () {\n      var existing = radioGroupState[id];\n      return existing !== undefined ? existing : defaultSelected || false;\n    });\n  }, [radioGroupState, group, id, defaultSelected]);\n  if (typeof isSelected === 'boolean') {\n    return [isSelected, function () {\n      return false;\n    }];\n  }\n  if (persistedIsSelected === undefined) {\n    var existing = getGroupState(group);\n    setGroupState(group, _objectSpread(_objectSpread({}, resetOptionsInGroup(existing || {})), {}, _defineProperty({}, id, defaultSelected || false)));\n  }\n  return [localIsSelected, setLocalState];\n}\nexport default useRadioState;","map":{"version":3,"names":["_defineProperty","_slicedToArray","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","useCallback","useContext","useEffect","useState","RadioGroupContext","SelectionStoreContext","resetOptionsInGroup","useRadioState","_ref","id","isSelected","defaultSelected","_useContext","setGroupState","getGroupState","_useContext2","group","radioGroupState","selectRadioItem","persistedIsSelected","_useState","undefined","_useState2","localIsSelected","setLocalIsSelected","setLocalState","newValue","nextValue","existing"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/dropdown-menu/dist/esm/internal/hooks/use-radio-state.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { RadioGroupContext } from '../../radio/dropdown-item-radio-group';\nimport { SelectionStoreContext } from '../context/selection-store';\nimport resetOptionsInGroup from '../utils/reset-options-in-group';\nfunction useRadioState(_ref) {\n  var id = _ref.id,\n    isSelected = _ref.isSelected,\n    defaultSelected = _ref.defaultSelected;\n  var _useContext = useContext(SelectionStoreContext),\n    setGroupState = _useContext.setGroupState,\n    getGroupState = _useContext.getGroupState;\n  var _useContext2 = useContext(RadioGroupContext),\n    group = _useContext2.id,\n    radioGroupState = _useContext2.radioGroupState,\n    selectRadioItem = _useContext2.selectRadioItem;\n  var persistedIsSelected = radioGroupState[id];\n  var _useState = useState(function () {\n      return persistedIsSelected !== undefined ? persistedIsSelected : defaultSelected || false;\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    localIsSelected = _useState2[0],\n    setLocalIsSelected = _useState2[1];\n  var setLocalState = useCallback(function (newValue) {\n    if (!persistedIsSelected) {\n      var nextValue = newValue(persistedIsSelected);\n      selectRadioItem(id, nextValue);\n      setLocalIsSelected(nextValue);\n    }\n  }, [persistedIsSelected, id, selectRadioItem]);\n\n  /**\n   * - radio state changes any time a radio child is changed\n   * - when it changes we want all radio buttons to update their local state\n   * - it takes the value from radio group state and applies it locally if it exists which it will only exist, if it is selected\n   */\n  useEffect(function () {\n    setLocalIsSelected(function () {\n      var existing = radioGroupState[id];\n      return existing !== undefined ? existing : defaultSelected || false;\n    });\n  }, [radioGroupState, group, id, defaultSelected]);\n  if (typeof isSelected === 'boolean') {\n    return [isSelected, function () {\n      return false;\n    }];\n  }\n  if (persistedIsSelected === undefined) {\n    var existing = getGroupState(group);\n    setGroupState(group, _objectSpread(_objectSpread({}, resetOptionsInGroup(existing || {})), {}, _defineProperty({}, id, defaultSelected || false)));\n  }\n  return [localIsSelected, setLocalState];\n}\nexport default useRadioState;"],"mappings":"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"},"metadata":{},"sourceType":"module"}