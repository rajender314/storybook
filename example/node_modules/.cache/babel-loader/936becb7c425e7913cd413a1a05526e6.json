{"ast":null,"code":"import { useCallback, useEffect, useRef } from 'react';\nvar getHookDeps = function getHookDeps(opts) {\n  switch (opts.cleanup) {\n    case 'next-effect':\n      return undefined;\n    case 'unmount':\n    default:\n      return [];\n  }\n};\n\n/**\n * Will return request animation frame as a function which will clean itself up.\n */\nexport var useRequestAnimationFrame = function useRequestAnimationFrame() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cleanup: 'unmount'\n  };\n  var frames = useRef([]);\n  useEffect(function () {\n    return function () {\n      if (frames.current.length) {\n        frames.current.forEach(function (id) {\n          return cancelAnimationFrame(id);\n        });\n        frames.current = [];\n      }\n    };\n    // We dynamically set this so we either clean up on the next effect - or on unmount.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, getHookDeps(opts));\n  return useCallback(function (handler) {\n    var id = requestAnimationFrame(function (time) {\n      frames.current = frames.current.filter(function (frameId) {\n        return frameId !== id;\n      });\n      handler(time);\n    });\n    frames.current.push(id);\n  }, []);\n};\n\n/**\n * Will return set  timeout as a function which will clean itself up.\n */\nexport var useSetTimeout = function useSetTimeout() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cleanup: 'unmount'\n  };\n  var timeouts = useRef([]);\n  useEffect(function () {\n    return function () {\n      if (timeouts.current.length) {\n        timeouts.current.forEach(function (id) {\n          return clearTimeout(id);\n        });\n        timeouts.current = [];\n      }\n    };\n    // We dynamically set this so we either clean up on the next effect - or on unmount.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, getHookDeps(opts));\n  return useCallback(function (handler, timeout) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    var id = setTimeout.apply(void 0, [function () {\n      timeouts.current = timeouts.current.filter(function (timeoutId) {\n        return timeoutId !== id;\n      });\n      handler();\n    }, timeout].concat(args));\n    timeouts.current.push(id);\n  }, []);\n};","map":{"version":3,"names":["useCallback","useEffect","useRef","getHookDeps","opts","cleanup","undefined","useRequestAnimationFrame","arguments","length","frames","current","forEach","id","cancelAnimationFrame","handler","requestAnimationFrame","time","filter","frameId","push","useSetTimeout","timeouts","clearTimeout","timeout","_len","args","Array","_key","setTimeout","apply","timeoutId","concat"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/motion/dist/esm/utils/timer-hooks.js"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nvar getHookDeps = function getHookDeps(opts) {\n  switch (opts.cleanup) {\n    case 'next-effect':\n      return undefined;\n    case 'unmount':\n    default:\n      return [];\n  }\n};\n\n/**\n * Will return request animation frame as a function which will clean itself up.\n */\nexport var useRequestAnimationFrame = function useRequestAnimationFrame() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cleanup: 'unmount'\n  };\n  var frames = useRef([]);\n  useEffect(function () {\n    return function () {\n      if (frames.current.length) {\n        frames.current.forEach(function (id) {\n          return cancelAnimationFrame(id);\n        });\n        frames.current = [];\n      }\n    };\n    // We dynamically set this so we either clean up on the next effect - or on unmount.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, getHookDeps(opts));\n  return useCallback(function (handler) {\n    var id = requestAnimationFrame(function (time) {\n      frames.current = frames.current.filter(function (frameId) {\n        return frameId !== id;\n      });\n      handler(time);\n    });\n    frames.current.push(id);\n  }, []);\n};\n\n/**\n * Will return set  timeout as a function which will clean itself up.\n */\nexport var useSetTimeout = function useSetTimeout() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cleanup: 'unmount'\n  };\n  var timeouts = useRef([]);\n  useEffect(function () {\n    return function () {\n      if (timeouts.current.length) {\n        timeouts.current.forEach(function (id) {\n          return clearTimeout(id);\n        });\n        timeouts.current = [];\n      }\n    };\n    // We dynamically set this so we either clean up on the next effect - or on unmount.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, getHookDeps(opts));\n  return useCallback(function (handler, timeout) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    var id = setTimeout.apply(void 0, [function () {\n      timeouts.current = timeouts.current.filter(function (timeoutId) {\n        return timeoutId !== id;\n      });\n      handler();\n    }, timeout].concat(args));\n    timeouts.current.push(id);\n  }, []);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}