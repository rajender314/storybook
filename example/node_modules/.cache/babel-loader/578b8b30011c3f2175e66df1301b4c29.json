{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n/** @jsx jsx */\n\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\nimport { css, jsx } from '@emotion/react';\nimport { bind } from 'bind-event-listener';\nimport rafSchedule from 'raf-schd';\nimport mergeRefs from '@atlaskit/ds-lib/merge-refs';\nimport noop from '@atlaskit/ds-lib/noop';\nimport useLazyCallback from '@atlaskit/ds-lib/use-lazy-callback';\nimport useStateRef from '@atlaskit/ds-lib/use-state-ref';\nimport FocusRing from '@atlaskit/focus-ring';\nimport { media } from '@atlaskit/primitives';\nimport { keylineColor, keylineHeight } from '../constants';\nvar baseStyles = css(_defineProperty({\n  display: 'inherit',\n  margin: \"var(--ds-space-0, 0px)\",\n  flex: 'inherit',\n  flexDirection: 'inherit',\n  flexGrow: 1,\n  overflowX: 'hidden',\n  overflowY: 'auto'\n}, media.above.xs, {\n  height: 'unset',\n  overflowY: 'auto'\n}));\nvar topKeylineStyles = css({\n  borderTop: \"\".concat(keylineHeight, \"px solid \").concat(keylineColor)\n});\nvar bottomKeylineStyles = css({\n  borderBottom: \"\".concat(keylineHeight, \"px solid \").concat(keylineColor)\n});\n/**\n * A container that shows top and bottom keylines when the\n * content overflows into the scrollable element.\n */\nvar ScrollContainer = /*#__PURE__*/forwardRef(function (props, ref) {\n  var testId = props.testId,\n    children = props.children;\n  var _useStateRef = useStateRef({\n      previous: false,\n      next: false\n    }),\n    _useStateRef2 = _slicedToArray(_useStateRef, 2),\n    hasSiblings = _useStateRef2[0],\n    setSiblings = _useStateRef2[1];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showContentFocus = _useState2[0],\n    setContentFocus = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showTopKeyline = _useState4[0],\n    setTopKeyline = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showBottomKeyline = _useState6[0],\n    setBottomKeyline = _useState6[1];\n  var scrollableRef = useRef(null);\n  var setLazySiblings = useLazyCallback(setSiblings);\n  var setLazyContentFocus = useLazyCallback(rafSchedule(function () {\n    var target = scrollableRef.current;\n    target && setContentFocus(target.scrollHeight > target.clientHeight);\n  }));\n  var setLazyKeylines = useLazyCallback(rafSchedule(function () {\n    var target = scrollableRef.current;\n    if (target) {\n      var scrollableDistance = target.scrollHeight - target.clientHeight;\n      if (hasSiblings.current.previous) {\n        setTopKeyline(target.scrollTop > keylineHeight);\n      }\n      if (hasSiblings.current.next) {\n        setBottomKeyline(target.scrollTop <= scrollableDistance - keylineHeight);\n      }\n    }\n  }));\n  useEffect(function () {\n    var target = scrollableRef.current;\n    var unbindWindowEvent = bind(window, {\n      type: 'resize',\n      listener: setLazyKeylines\n    });\n    var unbindTargetEvent = target ? bind(target, {\n      type: 'scroll',\n      listener: setLazyKeylines\n    }) : noop;\n    setLazyContentFocus();\n    setLazyKeylines();\n    setLazySiblings({\n      previous: Boolean(target === null || target === void 0 ? void 0 : target.previousElementSibling),\n      next: Boolean(target === null || target === void 0 ? void 0 : target.nextElementSibling)\n    });\n    return function () {\n      unbindWindowEvent();\n      unbindTargetEvent();\n    };\n  }, [setLazyContentFocus, setLazyKeylines, setLazySiblings]);\n  return jsx(FocusRing, {\n    isInset: true\n  }, jsx(\"div\", {\n    // tabindex is allowed here so that keyboard users can scroll content\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    tabIndex: showContentFocus ? 0 : undefined,\n    role: showContentFocus ? 'region' : undefined,\n    \"aria-label\": showContentFocus ? 'Scrollable content' : undefined,\n    \"data-testid\": testId && \"\".concat(testId, \"--scrollable\"),\n    ref: mergeRefs([ref, scrollableRef]),\n    css: [baseStyles, showTopKeyline && topKeylineStyles, showBottomKeyline && bottomKeylineStyles]\n  }, children));\n});\nScrollContainer.displayName = 'ScrollContainer';\nexport default ScrollContainer;","map":{"version":3,"names":["_slicedToArray","_defineProperty","React","forwardRef","useEffect","useRef","useState","css","jsx","bind","rafSchedule","mergeRefs","noop","useLazyCallback","useStateRef","FocusRing","media","keylineColor","keylineHeight","baseStyles","display","margin","flex","flexDirection","flexGrow","overflowX","overflowY","above","xs","height","topKeylineStyles","borderTop","concat","bottomKeylineStyles","borderBottom","ScrollContainer","props","ref","testId","children","_useStateRef","previous","next","_useStateRef2","hasSiblings","setSiblings","_useState","_useState2","showContentFocus","setContentFocus","_useState3","_useState4","showTopKeyline","setTopKeyline","_useState5","_useState6","showBottomKeyline","setBottomKeyline","scrollableRef","setLazySiblings","setLazyContentFocus","target","current","scrollHeight","clientHeight","setLazyKeylines","scrollableDistance","scrollTop","unbindWindowEvent","window","type","listener","unbindTargetEvent","Boolean","previousElementSibling","nextElementSibling","isInset","tabIndex","undefined","role","displayName"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/modal-dialog/dist/esm/internal/components/scroll-container.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n/** @jsx jsx */\n\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\nimport { css, jsx } from '@emotion/react';\nimport { bind } from 'bind-event-listener';\nimport rafSchedule from 'raf-schd';\nimport mergeRefs from '@atlaskit/ds-lib/merge-refs';\nimport noop from '@atlaskit/ds-lib/noop';\nimport useLazyCallback from '@atlaskit/ds-lib/use-lazy-callback';\nimport useStateRef from '@atlaskit/ds-lib/use-state-ref';\nimport FocusRing from '@atlaskit/focus-ring';\nimport { media } from '@atlaskit/primitives';\nimport { keylineColor, keylineHeight } from '../constants';\nvar baseStyles = css(_defineProperty({\n  display: 'inherit',\n  margin: \"var(--ds-space-0, 0px)\",\n  flex: 'inherit',\n  flexDirection: 'inherit',\n  flexGrow: 1,\n  overflowX: 'hidden',\n  overflowY: 'auto'\n}, media.above.xs, {\n  height: 'unset',\n  overflowY: 'auto'\n}));\nvar topKeylineStyles = css({\n  borderTop: \"\".concat(keylineHeight, \"px solid \").concat(keylineColor)\n});\nvar bottomKeylineStyles = css({\n  borderBottom: \"\".concat(keylineHeight, \"px solid \").concat(keylineColor)\n});\n/**\n * A container that shows top and bottom keylines when the\n * content overflows into the scrollable element.\n */\nvar ScrollContainer = /*#__PURE__*/forwardRef(function (props, ref) {\n  var testId = props.testId,\n    children = props.children;\n  var _useStateRef = useStateRef({\n      previous: false,\n      next: false\n    }),\n    _useStateRef2 = _slicedToArray(_useStateRef, 2),\n    hasSiblings = _useStateRef2[0],\n    setSiblings = _useStateRef2[1];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showContentFocus = _useState2[0],\n    setContentFocus = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showTopKeyline = _useState4[0],\n    setTopKeyline = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showBottomKeyline = _useState6[0],\n    setBottomKeyline = _useState6[1];\n  var scrollableRef = useRef(null);\n  var setLazySiblings = useLazyCallback(setSiblings);\n  var setLazyContentFocus = useLazyCallback(rafSchedule(function () {\n    var target = scrollableRef.current;\n    target && setContentFocus(target.scrollHeight > target.clientHeight);\n  }));\n  var setLazyKeylines = useLazyCallback(rafSchedule(function () {\n    var target = scrollableRef.current;\n    if (target) {\n      var scrollableDistance = target.scrollHeight - target.clientHeight;\n      if (hasSiblings.current.previous) {\n        setTopKeyline(target.scrollTop > keylineHeight);\n      }\n      if (hasSiblings.current.next) {\n        setBottomKeyline(target.scrollTop <= scrollableDistance - keylineHeight);\n      }\n    }\n  }));\n  useEffect(function () {\n    var target = scrollableRef.current;\n    var unbindWindowEvent = bind(window, {\n      type: 'resize',\n      listener: setLazyKeylines\n    });\n    var unbindTargetEvent = target ? bind(target, {\n      type: 'scroll',\n      listener: setLazyKeylines\n    }) : noop;\n    setLazyContentFocus();\n    setLazyKeylines();\n    setLazySiblings({\n      previous: Boolean(target === null || target === void 0 ? void 0 : target.previousElementSibling),\n      next: Boolean(target === null || target === void 0 ? void 0 : target.nextElementSibling)\n    });\n    return function () {\n      unbindWindowEvent();\n      unbindTargetEvent();\n    };\n  }, [setLazyContentFocus, setLazyKeylines, setLazySiblings]);\n  return jsx(FocusRing, {\n    isInset: true\n  }, jsx(\"div\", {\n    // tabindex is allowed here so that keyboard users can scroll content\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n    tabIndex: showContentFocus ? 0 : undefined,\n    role: showContentFocus ? 'region' : undefined,\n    \"aria-label\": showContentFocus ? 'Scrollable content' : undefined,\n    \"data-testid\": testId && \"\".concat(testId, \"--scrollable\"),\n    ref: mergeRefs([ref, scrollableRef]),\n    css: [baseStyles, showTopKeyline && topKeylineStyles, showBottomKeyline && bottomKeylineStyles]\n  }, children));\n});\nScrollContainer.displayName = 'ScrollContainer';\nexport default ScrollContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}