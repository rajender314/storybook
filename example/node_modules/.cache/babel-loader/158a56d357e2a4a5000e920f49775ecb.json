{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { usePlatformLeafEventHandler } from '@atlaskit/analytics-next/usePlatformLeafEventHandler';\nimport noop from '@atlaskit/ds-lib/noop';\nimport Flag from './flag';\nimport { useFlagGroup } from './flag-group';\nvar packageName = \"@atlaskit/flag\";\nvar packageVersion = \"14.7.3\";\nexport var AUTO_DISMISS_SECONDS = 8;\n/**\n * __Auto dismiss flag__\n *\n * An auto dismiss flag is dismissed automatically after eight seconds.\n *\n * - [Examples](https://atlassian.design/components/flag/auto-dismiss-flag/examples)\n * - [Code](https://atlassian.design/components/flag/auto-dismiss-flag/code)\n */\n\nvar AutoDismissFlag = function AutoDismissFlag(props) {\n  var id = props.id,\n    analyticsContext = props.analyticsContext,\n    _props$onDismissed = props.onDismissed,\n    onDismissedProp = _props$onDismissed === void 0 ? noop : _props$onDismissed;\n  var autoDismissTimer = useRef(null);\n  var _useFlagGroup = useFlagGroup(),\n    onDismissedFromFlagGroup = _useFlagGroup.onDismissed,\n    isDismissAllowed = _useFlagGroup.isDismissAllowed;\n  var onDismissed = useCallback(function (id, analyticsEvent) {\n    onDismissedProp(id, analyticsEvent);\n    onDismissedFromFlagGroup(id, analyticsEvent);\n  }, [onDismissedProp, onDismissedFromFlagGroup]);\n  var onDismissedAnalytics = usePlatformLeafEventHandler({\n    fn: onDismissed,\n    action: 'dismissed',\n    analyticsData: analyticsContext,\n    componentName: 'flag',\n    packageName: packageName,\n    packageVersion: packageVersion\n  });\n  var isAutoDismissAllowed = isDismissAllowed && onDismissed;\n  var dismissFlag = useCallback(function () {\n    if (isAutoDismissAllowed) {\n      onDismissedAnalytics(id);\n    }\n  }, [id, onDismissedAnalytics, isAutoDismissAllowed]);\n  var stopAutoDismissTimer = useCallback(function () {\n    if (autoDismissTimer.current) {\n      clearTimeout(autoDismissTimer.current);\n      autoDismissTimer.current = null;\n    }\n  }, []);\n  var startAutoDismissTimer = useCallback(function () {\n    if (!isAutoDismissAllowed) {\n      return;\n    }\n    stopAutoDismissTimer();\n    autoDismissTimer.current = window.setTimeout(dismissFlag, AUTO_DISMISS_SECONDS * 1000);\n  }, [dismissFlag, stopAutoDismissTimer, isAutoDismissAllowed]);\n  useEffect(function () {\n    startAutoDismissTimer();\n    return stopAutoDismissTimer;\n  }, [startAutoDismissTimer, stopAutoDismissTimer]);\n  return /*#__PURE__*/React.createElement(Flag // eslint-disable-next-line @repo/internal/react/no-unsafe-spread-props\n  , _extends({}, props, {\n    onMouseOver: stopAutoDismissTimer,\n    onFocus: stopAutoDismissTimer,\n    onMouseOut: startAutoDismissTimer,\n    onBlur: startAutoDismissTimer\n  }));\n};\nexport default AutoDismissFlag;","map":{"version":3,"names":["_extends","React","useCallback","useEffect","useRef","usePlatformLeafEventHandler","noop","Flag","useFlagGroup","packageName","packageVersion","AUTO_DISMISS_SECONDS","AutoDismissFlag","props","id","analyticsContext","_props$onDismissed","onDismissed","onDismissedProp","autoDismissTimer","_useFlagGroup","onDismissedFromFlagGroup","isDismissAllowed","analyticsEvent","onDismissedAnalytics","fn","action","analyticsData","componentName","isAutoDismissAllowed","dismissFlag","stopAutoDismissTimer","current","clearTimeout","startAutoDismissTimer","window","setTimeout","createElement","onMouseOver","onFocus","onMouseOut","onBlur"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/flag/dist/esm/auto-dismiss-flag.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { usePlatformLeafEventHandler } from '@atlaskit/analytics-next/usePlatformLeafEventHandler';\nimport noop from '@atlaskit/ds-lib/noop';\nimport Flag from './flag';\nimport { useFlagGroup } from './flag-group';\nvar packageName = \"@atlaskit/flag\";\nvar packageVersion = \"14.7.3\";\nexport var AUTO_DISMISS_SECONDS = 8;\n/**\n * __Auto dismiss flag__\n *\n * An auto dismiss flag is dismissed automatically after eight seconds.\n *\n * - [Examples](https://atlassian.design/components/flag/auto-dismiss-flag/examples)\n * - [Code](https://atlassian.design/components/flag/auto-dismiss-flag/code)\n */\n\nvar AutoDismissFlag = function AutoDismissFlag(props) {\n  var id = props.id,\n      analyticsContext = props.analyticsContext,\n      _props$onDismissed = props.onDismissed,\n      onDismissedProp = _props$onDismissed === void 0 ? noop : _props$onDismissed;\n  var autoDismissTimer = useRef(null);\n\n  var _useFlagGroup = useFlagGroup(),\n      onDismissedFromFlagGroup = _useFlagGroup.onDismissed,\n      isDismissAllowed = _useFlagGroup.isDismissAllowed;\n\n  var onDismissed = useCallback(function (id, analyticsEvent) {\n    onDismissedProp(id, analyticsEvent);\n    onDismissedFromFlagGroup(id, analyticsEvent);\n  }, [onDismissedProp, onDismissedFromFlagGroup]);\n  var onDismissedAnalytics = usePlatformLeafEventHandler({\n    fn: onDismissed,\n    action: 'dismissed',\n    analyticsData: analyticsContext,\n    componentName: 'flag',\n    packageName: packageName,\n    packageVersion: packageVersion\n  });\n  var isAutoDismissAllowed = isDismissAllowed && onDismissed;\n  var dismissFlag = useCallback(function () {\n    if (isAutoDismissAllowed) {\n      onDismissedAnalytics(id);\n    }\n  }, [id, onDismissedAnalytics, isAutoDismissAllowed]);\n  var stopAutoDismissTimer = useCallback(function () {\n    if (autoDismissTimer.current) {\n      clearTimeout(autoDismissTimer.current);\n      autoDismissTimer.current = null;\n    }\n  }, []);\n  var startAutoDismissTimer = useCallback(function () {\n    if (!isAutoDismissAllowed) {\n      return;\n    }\n\n    stopAutoDismissTimer();\n    autoDismissTimer.current = window.setTimeout(dismissFlag, AUTO_DISMISS_SECONDS * 1000);\n  }, [dismissFlag, stopAutoDismissTimer, isAutoDismissAllowed]);\n  useEffect(function () {\n    startAutoDismissTimer();\n    return stopAutoDismissTimer;\n  }, [startAutoDismissTimer, stopAutoDismissTimer]);\n  return /*#__PURE__*/React.createElement(Flag // eslint-disable-next-line @repo/internal/react/no-unsafe-spread-props\n  , _extends({}, props, {\n    onMouseOver: stopAutoDismissTimer,\n    onFocus: stopAutoDismissTimer,\n    onMouseOut: startAutoDismissTimer,\n    onBlur: startAutoDismissTimer\n  }));\n};\n\nexport default AutoDismissFlag;"],"mappings":"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"},"metadata":{},"sourceType":"module"}