{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n/** @jsx jsx */\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { jsx } from '@emotion/react';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafSyntheticEventHandler } from '@atlaskit/analytics-next';\nimport noop from '@atlaskit/ds-lib/noop';\nimport useCloseOnEscapePress from '@atlaskit/ds-lib/use-close-on-escape-press';\nimport { ExitingPersistence, FadeIn } from '@atlaskit/motion';\nimport { mediumDurationMs } from '@atlaskit/motion/durations';\nimport { Popper } from '@atlaskit/popper';\nimport Portal from '@atlaskit/portal';\nimport { layers } from '@atlaskit/theme/constants';\nimport { show } from './internal/tooltip-manager';\nimport useUniqueId from './internal/use-unique-id';\nimport TooltipContainer from './TooltipContainer';\nimport { getMousePosition } from './utilities';\nvar tooltipZIndex = layers.tooltip();\nvar analyticsAttributes = {\n  componentName: 'tooltip',\n  packageName: \"@atlaskit/tooltip\",\n  packageVersion: \"17.8.10\"\n};\n\n// Inverts motion direction\nvar invertedDirection = {\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n};\n\n/**\n * Converts a Popper placement to it's general direction.\n *\n * @param position - Popper Placement value, e.g. 'top-start'\n * @returns Popper Direction, e.g. 'top'\n */\nvar getDirectionFromPlacement = function getDirectionFromPlacement(placement) {\n  return placement.split('-')[0];\n};\nfunction Tooltip(_ref) {\n  var children = _ref.children,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? 'bottom' : _ref$position,\n    _ref$mousePosition = _ref.mousePosition,\n    mousePosition = _ref$mousePosition === void 0 ? 'bottom' : _ref$mousePosition,\n    content = _ref.content,\n    _ref$truncate = _ref.truncate,\n    truncate = _ref$truncate === void 0 ? false : _ref$truncate,\n    _ref$component = _ref.component,\n    Container = _ref$component === void 0 ? TooltipContainer : _ref$component,\n    _ref$tag = _ref.tag,\n    TargetContainer = _ref$tag === void 0 ? 'div' : _ref$tag,\n    testId = _ref.testId,\n    _ref$delay = _ref.delay,\n    delay = _ref$delay === void 0 ? 300 : _ref$delay,\n    _ref$onShow = _ref.onShow,\n    onShow = _ref$onShow === void 0 ? noop : _ref$onShow,\n    _ref$onHide = _ref.onHide,\n    onHide = _ref$onHide === void 0 ? noop : _ref$onHide,\n    _ref$hideTooltipOnCli = _ref.hideTooltipOnClick,\n    hideTooltipOnClick = _ref$hideTooltipOnCli === void 0 ? false : _ref$hideTooltipOnCli,\n    _ref$hideTooltipOnMou = _ref.hideTooltipOnMouseDown,\n    hideTooltipOnMouseDown = _ref$hideTooltipOnMou === void 0 ? false : _ref$hideTooltipOnMou,\n    analyticsContext = _ref.analyticsContext,\n    _ref$strategy = _ref.strategy,\n    strategy = _ref$strategy === void 0 ? 'fixed' : _ref$strategy;\n  var tooltipPosition = position === 'mouse' ? mousePosition : position;\n  var onShowHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onShow,\n    action: 'displayed',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var onHideHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onHide,\n    action: 'hidden',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var apiRef = useRef(null);\n  var _useState = useState('hide'),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var targetRef = useRef(null);\n  var containerRef = useRef(null);\n\n  // This function is deliberately _not_ memoized as it needs to re-run every render\n  // to pick up any child ref changes. If you use render props you don't have this issue.\n  var setImplicitRefFromChildren = function setImplicitRefFromChildren(node) {\n    containerRef.current = node;\n    targetRef.current = node ? node.firstElementChild : null;\n  };\n\n  // This is memoized and passed into the render props callback.\n  var setDirectRef = useCallback(function (node) {\n    targetRef.current = node;\n  }, []);\n\n  // Putting a few things into refs so that we don't have to break memoization\n  var lastState = useRef(state);\n  var lastDelay = useRef(delay);\n  var lastHandlers = useRef({\n    onShowHandler: onShowHandler,\n    onHideHandler: onHideHandler\n  });\n  var hasCalledShowHandler = useRef(false);\n  useEffect(function () {\n    lastState.current = state;\n    lastDelay.current = delay;\n    lastHandlers.current = {\n      onShowHandler: onShowHandler,\n      onHideHandler: onHideHandler\n    };\n  }, [delay, onHideHandler, onShowHandler, state]);\n  var start = useCallback(function (api) {\n    // @ts-ignore\n    apiRef.current = api;\n    hasCalledShowHandler.current = false;\n  }, []);\n  var done = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n    // Only call onHideHandler if we have called onShowHandler\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    }\n    // @ts-ignore\n    apiRef.current = null;\n    // @ts-ignore\n    hasCalledShowHandler.current = false;\n    // just in case\n    setState('hide');\n  }, []);\n  var abort = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n    apiRef.current.abort();\n    // Only call onHideHandler if we have called onShowHandler\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    }\n    // @ts-ignore\n    apiRef.current = null;\n  }, []);\n  useEffect(function mount() {\n    return function unmount() {\n      if (apiRef.current) {\n        abort();\n      }\n    };\n  }, [abort]);\n  var showTooltip = useCallback(function (source) {\n    if (apiRef.current && !apiRef.current.isActive()) {\n      abort();\n    }\n\n    // Tell the tooltip to keep showing\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n    var entry = {\n      source: source,\n      delay: lastDelay.current,\n      show: function show(_ref2) {\n        var isImmediate = _ref2.isImmediate;\n        // Call the onShow handler if it hasn't been called yet\n        if (!hasCalledShowHandler.current) {\n          hasCalledShowHandler.current = true;\n          lastHandlers.current.onShowHandler();\n        }\n        setState(isImmediate ? 'show-immediate' : 'fade-in');\n      },\n      hide: function hide(_ref3) {\n        var isImmediate = _ref3.isImmediate;\n        if (isImmediate) {\n          setState('hide');\n        } else {\n          setState('before-fade-out');\n        }\n      },\n      done: done\n    };\n    var api = show(entry);\n    start(api);\n  }, [abort, done, start]);\n  var hideTooltipOnEsc = useCallback(function () {\n    var _apiRef$current;\n    (_apiRef$current = apiRef.current) === null || _apiRef$current === void 0 || _apiRef$current.requestHide({\n      isImmediate: true\n    });\n  }, [apiRef]);\n  useCloseOnEscapePress({\n    onClose: hideTooltipOnEsc,\n    isDisabled: state === 'hide' || state === 'fade-out'\n  });\n  useEffect(function () {\n    if (state === 'hide') {\n      return noop;\n    }\n    if (state === 'before-fade-out') {\n      setState('fade-out');\n    }\n    var unbind = bind(window, {\n      type: 'scroll',\n      listener: function listener() {\n        if (apiRef.current) {\n          apiRef.current.requestHide({\n            isImmediate: true\n          });\n        }\n      },\n      options: {\n        capture: true,\n        passive: true,\n        once: true\n      }\n    });\n    return unbind;\n  }, [state]);\n  var onMouseDown = useCallback(function () {\n    if (hideTooltipOnMouseDown && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnMouseDown]);\n  var onClick = useCallback(function () {\n    if (hideTooltipOnClick && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnClick]);\n\n  // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseover of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n  var onMouseOver = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    }\n\n    // Using prevent default as a signal that parent tooltips\n    if (event.defaultPrevented) {\n      return;\n    }\n    event.preventDefault();\n    var source = position === 'mouse' ? {\n      type: 'mouse',\n      // TODO: ideally not recalculating this object each time\n      mouse: getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      })\n    } : {\n      type: 'keyboard'\n    };\n    showTooltip(source);\n  }, [position, showTooltip]);\n\n  // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseout of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n  var onMouseOut = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    }\n\n    // Using prevent default as a signal that parent tooltips\n    if (event.defaultPrevented) {\n      return;\n    }\n    event.preventDefault();\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onMouseMove = position === 'mouse' ? function (event) {\n    var _apiRef$current2;\n    if ((_apiRef$current2 = apiRef.current) !== null && _apiRef$current2 !== void 0 && _apiRef$current2.isActive()) {\n      apiRef.current.mousePosition = getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      });\n    }\n  } : undefined;\n  var onMouseOverTooltip = useCallback(function () {\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n  }, []);\n  var onFocus = useCallback(function () {\n    showTooltip({\n      type: 'keyboard'\n    });\n  }, [showTooltip]);\n  var onBlur = useCallback(function () {\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onAnimationFinished = useCallback(function (transition) {\n    // Using lastState here because motion is not picking up the latest value\n    if (transition === 'exiting' && lastState.current === 'fade-out' && apiRef.current) {\n      // @ts-ignore: refs are writeable\n      apiRef.current.finishHideAnimation();\n    }\n  }, []);\n\n  // Doing a cast because typescript is struggling to narrow the type\n  var CastTargetContainer = TargetContainer;\n  var shouldRenderTooltipContainer = state !== 'hide' && Boolean(content);\n  var shouldRenderTooltipChildren = state !== 'hide' && state !== 'fade-out';\n  var getReferenceElement = function getReferenceElement() {\n    var _apiRef$current3;\n    if (position === 'mouse' && (_apiRef$current3 = apiRef.current) !== null && _apiRef$current3 !== void 0 && _apiRef$current3.mousePosition) {\n      var _apiRef$current4;\n      return (_apiRef$current4 = apiRef.current) === null || _apiRef$current4 === void 0 ? void 0 : _apiRef$current4.mousePosition;\n    }\n    return targetRef.current || undefined;\n  };\n  var tooltipId = useUniqueId('tooltip', shouldRenderTooltipContainer);\n  var tooltipTriggerProps = {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onMouseMove: onMouseMove,\n    onMouseDown: onMouseDown,\n    onClick: onClick,\n    onFocus: onFocus,\n    onBlur: onBlur\n  };\n\n  // Don't set `data-testid` unless it's defined, as it's not in the interface.\n  if (testId) {\n    // @ts-expect-error - Adding `data-testid` to the TriggerProps interface breaks Buttons.\n    tooltipTriggerProps['data-testid'] = \"\".concat(testId, \"--container\");\n  }\n\n  // This useEffect is purely for managing the aria attribute when using the\n  // wrapped children approach.\n  useEffect(function () {\n    // If there is no container element, we should exit early, because that\n    // means they are using the render prop API, and that is implemented in a\n    // different way. If there is no target element yet or tooltipId, we also\n    // shouldn't do anything because there is nothing to operate on or with.\n    if (!containerRef.current || !targetRef.current || !tooltipId) {\n      return;\n    }\n    var target = targetRef.current;\n    if (shouldRenderTooltipContainer) {\n      target.setAttribute('aria-describedby', tooltipId);\n    } else {\n      target.removeAttribute('aria-describedby');\n    }\n  }, [shouldRenderTooltipContainer, tooltipId]);\n  return jsx(React.Fragment, null, typeof children === 'function' ?\n  // once we deprecate the wrapped approach, we can put the aria\n  // attribute back into the tooltipTriggerProps and make it required\n  // instead of optional in `types`\n  children(_objectSpread(_objectSpread({}, tooltipTriggerProps), {}, {\n    'aria-describedby': tooltipId,\n    ref: setDirectRef\n  })) : jsx(CastTargetContainer, _extends({}, tooltipTriggerProps, {\n    ref: setImplicitRefFromChildren,\n    role: \"presentation\"\n  }), children), shouldRenderTooltipContainer ? jsx(Portal, {\n    zIndex: tooltipZIndex\n  }, jsx(Popper, {\n    placement: tooltipPosition,\n    referenceElement: getReferenceElement(),\n    strategy: strategy\n  }, function (_ref4) {\n    var ref = _ref4.ref,\n      style = _ref4.style,\n      update = _ref4.update,\n      placement = _ref4.placement;\n    // Invert the entrance and exit directions.\n    // E.g. a tooltip's position is on the 'right', it should enter from and exit to the 'left'\n    // This gives the effect the tooltip is appearing from the target\n    var direction = position === 'mouse' ? undefined : invertedDirection[getDirectionFromPlacement(placement)];\n    return jsx(ExitingPersistence, {\n      appear: true\n    }, shouldRenderTooltipChildren && jsx(FadeIn, {\n      distance: \"constant\",\n      entranceDirection: direction,\n      exitDirection: direction,\n      onFinish: onAnimationFinished,\n      duration: state === 'show-immediate' ? 0 : mediumDurationMs\n    }, function (_ref5) {\n      var className = _ref5.className;\n      return jsx(Container, {\n        ref: ref\n        /**\n         * \"Tooltip\" classname is a hook used by tests to manipulate\n         * and hide tooltips, including in VR snapshots\n         **/,\n        className: \"Tooltip \".concat(className),\n        style: style,\n        truncate: truncate,\n        placement: tooltipPosition,\n        testId: getReferenceElement() ? testId : testId && \"\".concat(testId, \"--unresolved\"),\n        onMouseOut: onMouseOut,\n        onMouseOver: onMouseOverTooltip,\n        id: tooltipId\n      }, typeof content === 'function' ? content({\n        update: update\n      }) : content);\n    }));\n  })) : null);\n}\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;","map":{"version":3,"names":["_extends","_slicedToArray","_defineProperty","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useCallback","useEffect","useRef","useState","jsx","bind","usePlatformLeafSyntheticEventHandler","noop","useCloseOnEscapePress","ExitingPersistence","FadeIn","mediumDurationMs","Popper","Portal","layers","show","useUniqueId","TooltipContainer","getMousePosition","tooltipZIndex","tooltip","analyticsAttributes","componentName","packageName","packageVersion","invertedDirection","top","bottom","left","right","getDirectionFromPlacement","placement","split","Tooltip","_ref","children","_ref$position","position","_ref$mousePosition","mousePosition","content","_ref$truncate","truncate","_ref$component","component","Container","_ref$tag","tag","TargetContainer","testId","_ref$delay","delay","_ref$onShow","onShow","_ref$onHide","onHide","_ref$hideTooltipOnCli","hideTooltipOnClick","_ref$hideTooltipOnMou","hideTooltipOnMouseDown","analyticsContext","_ref$strategy","strategy","tooltipPosition","onShowHandler","fn","action","analyticsData","onHideHandler","apiRef","_useState","_useState2","state","setState","targetRef","containerRef","setImplicitRefFromChildren","node","current","firstElementChild","setDirectRef","lastState","lastDelay","lastHandlers","hasCalledShowHandler","start","api","done","abort","mount","unmount","showTooltip","source","isActive","keep","entry","_ref2","isImmediate","hide","_ref3","hideTooltipOnEsc","_apiRef$current","requestHide","onClose","isDisabled","unbind","window","type","listener","options","capture","passive","once","onMouseDown","onClick","onMouseOver","event","target","defaultPrevented","preventDefault","mouse","clientX","clientY","onMouseOut","onMouseMove","_apiRef$current2","undefined","onMouseOverTooltip","onFocus","onBlur","onAnimationFinished","transition","finishHideAnimation","CastTargetContainer","shouldRenderTooltipContainer","Boolean","shouldRenderTooltipChildren","getReferenceElement","_apiRef$current3","_apiRef$current4","tooltipId","tooltipTriggerProps","concat","setAttribute","removeAttribute","Fragment","ref","role","zIndex","referenceElement","_ref4","style","update","direction","appear","distance","entranceDirection","exitDirection","onFinish","duration","_ref5","className","id","displayName"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/tooltip/dist/esm/Tooltip.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/** @jsx jsx */\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { jsx } from '@emotion/react';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafSyntheticEventHandler } from '@atlaskit/analytics-next';\nimport noop from '@atlaskit/ds-lib/noop';\nimport useCloseOnEscapePress from '@atlaskit/ds-lib/use-close-on-escape-press';\nimport { ExitingPersistence, FadeIn } from '@atlaskit/motion';\nimport { mediumDurationMs } from '@atlaskit/motion/durations';\nimport { Popper } from '@atlaskit/popper';\nimport Portal from '@atlaskit/portal';\nimport { layers } from '@atlaskit/theme/constants';\nimport { show } from './internal/tooltip-manager';\nimport useUniqueId from './internal/use-unique-id';\nimport TooltipContainer from './TooltipContainer';\nimport { getMousePosition } from './utilities';\nvar tooltipZIndex = layers.tooltip();\nvar analyticsAttributes = {\n  componentName: 'tooltip',\n  packageName: \"@atlaskit/tooltip\",\n  packageVersion: \"17.8.10\"\n};\n\n// Inverts motion direction\nvar invertedDirection = {\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n};\n\n/**\n * Converts a Popper placement to it's general direction.\n *\n * @param position - Popper Placement value, e.g. 'top-start'\n * @returns Popper Direction, e.g. 'top'\n */\nvar getDirectionFromPlacement = function getDirectionFromPlacement(placement) {\n  return placement.split('-')[0];\n};\nfunction Tooltip(_ref) {\n  var children = _ref.children,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? 'bottom' : _ref$position,\n    _ref$mousePosition = _ref.mousePosition,\n    mousePosition = _ref$mousePosition === void 0 ? 'bottom' : _ref$mousePosition,\n    content = _ref.content,\n    _ref$truncate = _ref.truncate,\n    truncate = _ref$truncate === void 0 ? false : _ref$truncate,\n    _ref$component = _ref.component,\n    Container = _ref$component === void 0 ? TooltipContainer : _ref$component,\n    _ref$tag = _ref.tag,\n    TargetContainer = _ref$tag === void 0 ? 'div' : _ref$tag,\n    testId = _ref.testId,\n    _ref$delay = _ref.delay,\n    delay = _ref$delay === void 0 ? 300 : _ref$delay,\n    _ref$onShow = _ref.onShow,\n    onShow = _ref$onShow === void 0 ? noop : _ref$onShow,\n    _ref$onHide = _ref.onHide,\n    onHide = _ref$onHide === void 0 ? noop : _ref$onHide,\n    _ref$hideTooltipOnCli = _ref.hideTooltipOnClick,\n    hideTooltipOnClick = _ref$hideTooltipOnCli === void 0 ? false : _ref$hideTooltipOnCli,\n    _ref$hideTooltipOnMou = _ref.hideTooltipOnMouseDown,\n    hideTooltipOnMouseDown = _ref$hideTooltipOnMou === void 0 ? false : _ref$hideTooltipOnMou,\n    analyticsContext = _ref.analyticsContext,\n    _ref$strategy = _ref.strategy,\n    strategy = _ref$strategy === void 0 ? 'fixed' : _ref$strategy;\n  var tooltipPosition = position === 'mouse' ? mousePosition : position;\n  var onShowHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onShow,\n    action: 'displayed',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var onHideHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onHide,\n    action: 'hidden',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var apiRef = useRef(null);\n  var _useState = useState('hide'),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var targetRef = useRef(null);\n  var containerRef = useRef(null);\n\n  // This function is deliberately _not_ memoized as it needs to re-run every render\n  // to pick up any child ref changes. If you use render props you don't have this issue.\n  var setImplicitRefFromChildren = function setImplicitRefFromChildren(node) {\n    containerRef.current = node;\n    targetRef.current = node ? node.firstElementChild : null;\n  };\n\n  // This is memoized and passed into the render props callback.\n  var setDirectRef = useCallback(function (node) {\n    targetRef.current = node;\n  }, []);\n\n  // Putting a few things into refs so that we don't have to break memoization\n  var lastState = useRef(state);\n  var lastDelay = useRef(delay);\n  var lastHandlers = useRef({\n    onShowHandler: onShowHandler,\n    onHideHandler: onHideHandler\n  });\n  var hasCalledShowHandler = useRef(false);\n  useEffect(function () {\n    lastState.current = state;\n    lastDelay.current = delay;\n    lastHandlers.current = {\n      onShowHandler: onShowHandler,\n      onHideHandler: onHideHandler\n    };\n  }, [delay, onHideHandler, onShowHandler, state]);\n  var start = useCallback(function (api) {\n    // @ts-ignore\n    apiRef.current = api;\n    hasCalledShowHandler.current = false;\n  }, []);\n  var done = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n    // Only call onHideHandler if we have called onShowHandler\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    }\n    // @ts-ignore\n    apiRef.current = null;\n    // @ts-ignore\n    hasCalledShowHandler.current = false;\n    // just in case\n    setState('hide');\n  }, []);\n  var abort = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n    apiRef.current.abort();\n    // Only call onHideHandler if we have called onShowHandler\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    }\n    // @ts-ignore\n    apiRef.current = null;\n  }, []);\n  useEffect(function mount() {\n    return function unmount() {\n      if (apiRef.current) {\n        abort();\n      }\n    };\n  }, [abort]);\n  var showTooltip = useCallback(function (source) {\n    if (apiRef.current && !apiRef.current.isActive()) {\n      abort();\n    }\n\n    // Tell the tooltip to keep showing\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n    var entry = {\n      source: source,\n      delay: lastDelay.current,\n      show: function show(_ref2) {\n        var isImmediate = _ref2.isImmediate;\n        // Call the onShow handler if it hasn't been called yet\n        if (!hasCalledShowHandler.current) {\n          hasCalledShowHandler.current = true;\n          lastHandlers.current.onShowHandler();\n        }\n        setState(isImmediate ? 'show-immediate' : 'fade-in');\n      },\n      hide: function hide(_ref3) {\n        var isImmediate = _ref3.isImmediate;\n        if (isImmediate) {\n          setState('hide');\n        } else {\n          setState('before-fade-out');\n        }\n      },\n      done: done\n    };\n    var api = show(entry);\n    start(api);\n  }, [abort, done, start]);\n  var hideTooltipOnEsc = useCallback(function () {\n    var _apiRef$current;\n    (_apiRef$current = apiRef.current) === null || _apiRef$current === void 0 || _apiRef$current.requestHide({\n      isImmediate: true\n    });\n  }, [apiRef]);\n  useCloseOnEscapePress({\n    onClose: hideTooltipOnEsc,\n    isDisabled: state === 'hide' || state === 'fade-out'\n  });\n  useEffect(function () {\n    if (state === 'hide') {\n      return noop;\n    }\n    if (state === 'before-fade-out') {\n      setState('fade-out');\n    }\n    var unbind = bind(window, {\n      type: 'scroll',\n      listener: function listener() {\n        if (apiRef.current) {\n          apiRef.current.requestHide({\n            isImmediate: true\n          });\n        }\n      },\n      options: {\n        capture: true,\n        passive: true,\n        once: true\n      }\n    });\n    return unbind;\n  }, [state]);\n  var onMouseDown = useCallback(function () {\n    if (hideTooltipOnMouseDown && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnMouseDown]);\n  var onClick = useCallback(function () {\n    if (hideTooltipOnClick && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnClick]);\n\n  // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseover of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n  var onMouseOver = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    }\n\n    // Using prevent default as a signal that parent tooltips\n    if (event.defaultPrevented) {\n      return;\n    }\n    event.preventDefault();\n    var source = position === 'mouse' ? {\n      type: 'mouse',\n      // TODO: ideally not recalculating this object each time\n      mouse: getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      })\n    } : {\n      type: 'keyboard'\n    };\n    showTooltip(source);\n  }, [position, showTooltip]);\n\n  // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseout of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n  var onMouseOut = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    }\n\n    // Using prevent default as a signal that parent tooltips\n    if (event.defaultPrevented) {\n      return;\n    }\n    event.preventDefault();\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onMouseMove = position === 'mouse' ? function (event) {\n    var _apiRef$current2;\n    if ((_apiRef$current2 = apiRef.current) !== null && _apiRef$current2 !== void 0 && _apiRef$current2.isActive()) {\n      apiRef.current.mousePosition = getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      });\n    }\n  } : undefined;\n  var onMouseOverTooltip = useCallback(function () {\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n  }, []);\n  var onFocus = useCallback(function () {\n    showTooltip({\n      type: 'keyboard'\n    });\n  }, [showTooltip]);\n  var onBlur = useCallback(function () {\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onAnimationFinished = useCallback(function (transition) {\n    // Using lastState here because motion is not picking up the latest value\n    if (transition === 'exiting' && lastState.current === 'fade-out' && apiRef.current) {\n      // @ts-ignore: refs are writeable\n      apiRef.current.finishHideAnimation();\n    }\n  }, []);\n\n  // Doing a cast because typescript is struggling to narrow the type\n  var CastTargetContainer = TargetContainer;\n  var shouldRenderTooltipContainer = state !== 'hide' && Boolean(content);\n  var shouldRenderTooltipChildren = state !== 'hide' && state !== 'fade-out';\n  var getReferenceElement = function getReferenceElement() {\n    var _apiRef$current3;\n    if (position === 'mouse' && (_apiRef$current3 = apiRef.current) !== null && _apiRef$current3 !== void 0 && _apiRef$current3.mousePosition) {\n      var _apiRef$current4;\n      return (_apiRef$current4 = apiRef.current) === null || _apiRef$current4 === void 0 ? void 0 : _apiRef$current4.mousePosition;\n    }\n    return targetRef.current || undefined;\n  };\n  var tooltipId = useUniqueId('tooltip', shouldRenderTooltipContainer);\n  var tooltipTriggerProps = {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onMouseMove: onMouseMove,\n    onMouseDown: onMouseDown,\n    onClick: onClick,\n    onFocus: onFocus,\n    onBlur: onBlur\n  };\n\n  // Don't set `data-testid` unless it's defined, as it's not in the interface.\n  if (testId) {\n    // @ts-expect-error - Adding `data-testid` to the TriggerProps interface breaks Buttons.\n    tooltipTriggerProps['data-testid'] = \"\".concat(testId, \"--container\");\n  }\n\n  // This useEffect is purely for managing the aria attribute when using the\n  // wrapped children approach.\n  useEffect(function () {\n    // If there is no container element, we should exit early, because that\n    // means they are using the render prop API, and that is implemented in a\n    // different way. If there is no target element yet or tooltipId, we also\n    // shouldn't do anything because there is nothing to operate on or with.\n    if (!containerRef.current || !targetRef.current || !tooltipId) {\n      return;\n    }\n    var target = targetRef.current;\n    if (shouldRenderTooltipContainer) {\n      target.setAttribute('aria-describedby', tooltipId);\n    } else {\n      target.removeAttribute('aria-describedby');\n    }\n  }, [shouldRenderTooltipContainer, tooltipId]);\n  return jsx(React.Fragment, null, typeof children === 'function' ?\n  // once we deprecate the wrapped approach, we can put the aria\n  // attribute back into the tooltipTriggerProps and make it required\n  // instead of optional in `types`\n  children(_objectSpread(_objectSpread({}, tooltipTriggerProps), {}, {\n    'aria-describedby': tooltipId,\n    ref: setDirectRef\n  })) : jsx(CastTargetContainer, _extends({}, tooltipTriggerProps, {\n    ref: setImplicitRefFromChildren,\n    role: \"presentation\"\n  }), children), shouldRenderTooltipContainer ? jsx(Portal, {\n    zIndex: tooltipZIndex\n  }, jsx(Popper, {\n    placement: tooltipPosition,\n    referenceElement: getReferenceElement(),\n    strategy: strategy\n  }, function (_ref4) {\n    var ref = _ref4.ref,\n      style = _ref4.style,\n      update = _ref4.update,\n      placement = _ref4.placement;\n    // Invert the entrance and exit directions.\n    // E.g. a tooltip's position is on the 'right', it should enter from and exit to the 'left'\n    // This gives the effect the tooltip is appearing from the target\n    var direction = position === 'mouse' ? undefined : invertedDirection[getDirectionFromPlacement(placement)];\n    return jsx(ExitingPersistence, {\n      appear: true\n    }, shouldRenderTooltipChildren && jsx(FadeIn, {\n      distance: \"constant\",\n      entranceDirection: direction,\n      exitDirection: direction,\n      onFinish: onAnimationFinished,\n      duration: state === 'show-immediate' ? 0 : mediumDurationMs\n    }, function (_ref5) {\n      var className = _ref5.className;\n      return jsx(Container, {\n        ref: ref\n        /**\n         * \"Tooltip\" classname is a hook used by tests to manipulate\n         * and hide tooltips, including in VR snapshots\n         **/,\n        className: \"Tooltip \".concat(className),\n        style: style,\n        truncate: truncate,\n        placement: tooltipPosition,\n        testId: getReferenceElement() ? testId : testId && \"\".concat(testId, \"--unresolved\"),\n        onMouseOut: onMouseOut,\n        onMouseOver: onMouseOverTooltip,\n        id: tooltipId\n      }, typeof content === 'function' ? content({\n        update: update\n      }) : content);\n    }));\n  })) : null);\n}\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;"],"mappings":"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"},"metadata":{},"sourceType":"module"}