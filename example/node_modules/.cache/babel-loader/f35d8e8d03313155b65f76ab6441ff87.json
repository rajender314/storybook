{"ast":null,"code":"import { clearScheduled, scheduleTimeout } from './shared-schedule';\n\n// This file is a singleton for managing tooltips\n\nvar active = null;\nexport function show(entry) {\n  var phase = 'waiting-to-show';\n  function isActive() {\n    return Boolean(active && active.entry === entry);\n  }\n  function cleanup() {\n    if (isActive()) {\n      clearScheduled();\n      active = null;\n    }\n  }\n  function done() {\n    if (isActive()) {\n      entry.done();\n    }\n    phase = 'done';\n    cleanup();\n  }\n  function immediatelyHideAndDone() {\n    if (isActive()) {\n      entry.hide({\n        isImmediate: true\n      });\n    }\n    done();\n  }\n  function keep() {\n    if (!isActive()) {\n      return;\n    }\n\n    // aborting a wait to hide\n    if (phase === 'waiting-to-hide') {\n      phase = 'shown';\n      clearScheduled();\n      return;\n    }\n\n    // aborting hide animation\n    if (phase === 'hide-animating') {\n      phase = 'shown';\n      clearScheduled();\n      entry.show({\n        isImmediate: false\n      });\n      return;\n    }\n  }\n  function requestHide(_ref) {\n    var isImmediate = _ref.isImmediate;\n    if (!isActive()) {\n      return;\n    }\n\n    // If we were not showing yet anyway; finish straight away\n    if (phase === 'waiting-to-show') {\n      immediatelyHideAndDone();\n      return;\n    }\n\n    // already waiting to hide\n    if (phase === 'waiting-to-hide') {\n      return;\n    }\n    if (isImmediate) {\n      immediatelyHideAndDone();\n      return;\n    }\n    phase = 'waiting-to-hide';\n    scheduleTimeout(function () {\n      phase = 'hide-animating';\n      entry.hide({\n        isImmediate: false\n      });\n    }, entry.delay);\n  }\n  function finishHideAnimation() {\n    if (isActive() && phase === 'hide-animating') {\n      done();\n    }\n  }\n  function isVisible() {\n    return phase === 'shown' || phase === 'waiting-to-hide' || phase === 'hide-animating';\n  }\n  function getInitialMouse() {\n    if (entry.source.type === 'mouse') {\n      return entry.source.mouse;\n    }\n    return null;\n  }\n  function start() {\n    var showImmediately = Boolean(active && active.isVisible());\n\n    // If there was an active tooltip; we tell it to remove itself at once!\n    if (active) {\n      clearScheduled();\n      active.entry.hide({\n        isImmediate: true\n      });\n      active.entry.done();\n      active = null;\n    }\n\n    // this tooltip is now the active tooltip\n    active = {\n      entry: entry,\n      isVisible: isVisible\n    };\n    function show() {\n      phase = 'shown';\n      entry.show({\n        isImmediate: showImmediately\n      });\n    }\n    if (showImmediately) {\n      show();\n      return;\n    }\n    phase = 'waiting-to-show';\n    scheduleTimeout(show, entry.delay);\n  }\n  // let's get started!\n  start();\n  var result = {\n    keep: keep,\n    abort: cleanup,\n    isActive: isActive,\n    requestHide: requestHide,\n    finishHideAnimation: finishHideAnimation,\n    mousePosition: getInitialMouse()\n  };\n  return result;\n}","map":{"version":3,"names":["clearScheduled","scheduleTimeout","active","show","entry","phase","isActive","Boolean","cleanup","done","immediatelyHideAndDone","hide","isImmediate","keep","requestHide","_ref","delay","finishHideAnimation","isVisible","getInitialMouse","source","type","mouse","start","showImmediately","result","abort","mousePosition"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/tooltip/dist/esm/internal/tooltip-manager.js"],"sourcesContent":["import { clearScheduled, scheduleTimeout } from './shared-schedule';\n\n// This file is a singleton for managing tooltips\n\nvar active = null;\nexport function show(entry) {\n  var phase = 'waiting-to-show';\n  function isActive() {\n    return Boolean(active && active.entry === entry);\n  }\n  function cleanup() {\n    if (isActive()) {\n      clearScheduled();\n      active = null;\n    }\n  }\n  function done() {\n    if (isActive()) {\n      entry.done();\n    }\n    phase = 'done';\n    cleanup();\n  }\n  function immediatelyHideAndDone() {\n    if (isActive()) {\n      entry.hide({\n        isImmediate: true\n      });\n    }\n    done();\n  }\n  function keep() {\n    if (!isActive()) {\n      return;\n    }\n\n    // aborting a wait to hide\n    if (phase === 'waiting-to-hide') {\n      phase = 'shown';\n      clearScheduled();\n      return;\n    }\n\n    // aborting hide animation\n    if (phase === 'hide-animating') {\n      phase = 'shown';\n      clearScheduled();\n      entry.show({\n        isImmediate: false\n      });\n      return;\n    }\n  }\n  function requestHide(_ref) {\n    var isImmediate = _ref.isImmediate;\n    if (!isActive()) {\n      return;\n    }\n\n    // If we were not showing yet anyway; finish straight away\n    if (phase === 'waiting-to-show') {\n      immediatelyHideAndDone();\n      return;\n    }\n\n    // already waiting to hide\n    if (phase === 'waiting-to-hide') {\n      return;\n    }\n    if (isImmediate) {\n      immediatelyHideAndDone();\n      return;\n    }\n    phase = 'waiting-to-hide';\n    scheduleTimeout(function () {\n      phase = 'hide-animating';\n      entry.hide({\n        isImmediate: false\n      });\n    }, entry.delay);\n  }\n  function finishHideAnimation() {\n    if (isActive() && phase === 'hide-animating') {\n      done();\n    }\n  }\n  function isVisible() {\n    return phase === 'shown' || phase === 'waiting-to-hide' || phase === 'hide-animating';\n  }\n  function getInitialMouse() {\n    if (entry.source.type === 'mouse') {\n      return entry.source.mouse;\n    }\n    return null;\n  }\n  function start() {\n    var showImmediately = Boolean(active && active.isVisible());\n\n    // If there was an active tooltip; we tell it to remove itself at once!\n    if (active) {\n      clearScheduled();\n      active.entry.hide({\n        isImmediate: true\n      });\n      active.entry.done();\n      active = null;\n    }\n\n    // this tooltip is now the active tooltip\n    active = {\n      entry: entry,\n      isVisible: isVisible\n    };\n    function show() {\n      phase = 'shown';\n      entry.show({\n        isImmediate: showImmediately\n      });\n    }\n    if (showImmediately) {\n      show();\n      return;\n    }\n    phase = 'waiting-to-show';\n    scheduleTimeout(show, entry.delay);\n  }\n  // let's get started!\n  start();\n  var result = {\n    keep: keep,\n    abort: cleanup,\n    isActive: isActive,\n    requestHide: requestHide,\n    finishHideAnimation: finishHideAnimation,\n    mousePosition: getInitialMouse()\n  };\n  return result;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}