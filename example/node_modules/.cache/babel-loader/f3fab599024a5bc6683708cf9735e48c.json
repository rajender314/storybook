{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\n/**\n * Handle controlled & uncontrolled component state\n *\n * ```js\n *  const [uncontrolledState, setUncontrolledState] = useControlled(\n *    controlledValue,\n *    () => defaultValue,\n *  );\n * ```\n *\n * @param propValue\n * @param getDefaultPropValue\n */\nexport default function useControlled(propValue) {\n  var getDefaultPropValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n    return propValue;\n  };\n  var isControlled = propValue !== undefined;\n  var _useState = useState(getDefaultPropValue),\n    _useState2 = _slicedToArray(_useState, 2),\n    valueState = _useState2[0],\n    setValue = _useState2[1];\n  var isControlledRef = useRef(isControlled);\n  useEffect(function () {\n    isControlledRef.current = isControlled;\n  }, [isControlled]);\n  var value = isControlled ? propValue : valueState;\n  var setValueIfUncontrolled = useCallback(function (newValue) {\n    if (!isControlledRef.current) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","map":{"version":3,"names":["_slicedToArray","useCallback","useEffect","useRef","useState","useControlled","propValue","getDefaultPropValue","arguments","length","undefined","isControlled","_useState","_useState2","valueState","setValue","isControlledRef","current","value","setValueIfUncontrolled","newValue"],"sources":["/home/enterpi/Documents/iidm/pixel-kit/node_modules/@atlaskit/ds-lib/dist/esm/hooks/use-controlled.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\n/**\n * Handle controlled & uncontrolled component state\n *\n * ```js\n *  const [uncontrolledState, setUncontrolledState] = useControlled(\n *    controlledValue,\n *    () => defaultValue,\n *  );\n * ```\n *\n * @param propValue\n * @param getDefaultPropValue\n */\nexport default function useControlled(propValue) {\n  var getDefaultPropValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n    return propValue;\n  };\n  var isControlled = propValue !== undefined;\n  var _useState = useState(getDefaultPropValue),\n    _useState2 = _slicedToArray(_useState, 2),\n    valueState = _useState2[0],\n    setValue = _useState2[1];\n  var isControlledRef = useRef(isControlled);\n  useEffect(function () {\n    isControlledRef.current = isControlled;\n  }, [isControlled]);\n  var value = isControlled ? propValue : valueState;\n  var setValueIfUncontrolled = useCallback(function (newValue) {\n    if (!isControlledRef.current) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}"],"mappings":"AAAA,OAAOA,cAAc,MAAM,sCAAsC;AACjE,SAASC,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,aAAaA,CAACC,SAAS,EAAE;EAC/C,IAAIC,mBAAmB,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,YAAY;IACxG,OAAOF,SAAS;EAClB,CAAC;EACD,IAAIK,YAAY,GAAGL,SAAS,KAAKI,SAAS;EAC1C,IAAIE,SAAS,GAAGR,QAAQ,CAACG,mBAAmB,CAAC;IAC3CM,UAAU,GAAGb,cAAc,CAACY,SAAS,EAAE,CAAC,CAAC;IACzCE,UAAU,GAAGD,UAAU,CAAC,CAAC,CAAC;IAC1BE,QAAQ,GAAGF,UAAU,CAAC,CAAC,CAAC;EAC1B,IAAIG,eAAe,GAAGb,MAAM,CAACQ,YAAY,CAAC;EAC1CT,SAAS,CAAC,YAAY;IACpBc,eAAe,CAACC,OAAO,GAAGN,YAAY;EACxC,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAClB,IAAIO,KAAK,GAAGP,YAAY,GAAGL,SAAS,GAAGQ,UAAU;EACjD,IAAIK,sBAAsB,GAAGlB,WAAW,CAAC,UAAUmB,QAAQ,EAAE;IAC3D,IAAI,CAACJ,eAAe,CAACC,OAAO,EAAE;MAC5BF,QAAQ,CAACK,QAAQ,CAAC;IACpB;EACF,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,CAACF,KAAK,EAAEC,sBAAsB,CAAC;AACxC"},"metadata":{},"sourceType":"module"}